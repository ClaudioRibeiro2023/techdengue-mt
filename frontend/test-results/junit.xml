<testsuites id="" name="" tests="470" failures="137" skipped="0" errors="0" time="817.753893">
<testsuite name="auth-flow.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="18" failures="0" skipped="0" time="168.33" errors="0">
<testcase name="Fluxo de Autenticação › Login redirecion a para dashboard após autenticação" classname="auth-flow.spec.ts" time="9.537">
</testcase>
<testcase name="Fluxo de Autenticação › Usuário não autenticado é redirecionado para login" classname="auth-flow.spec.ts" time="10.267">
</testcase>
<testcase name="Fluxo de Autenticação › Roles são extraídas do token corretamente" classname="auth-flow.spec.ts" time="13.227">
</testcase>
<testcase name="Fluxo de Autenticação › Token expirado resulta em logout" classname="auth-flow.spec.ts" time="12.598">
</testcase>
<testcase name="Fluxo de Autenticação › Refresh token renova sessão" classname="auth-flow.spec.ts" time="9.193">
</testcase>
<testcase name="Session Management › Session persiste após reload" classname="auth-flow.spec.ts" time="10.746">
</testcase>
<testcase name="Session Management › Session persiste entre navegações" classname="auth-flow.spec.ts" time="11.677">
</testcase>
<testcase name="Session Management › Logout limpa session e redireciona" classname="auth-flow.spec.ts" time="8.013">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via localStorage" classname="auth-flow.spec.ts" time="7.789">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via query param" classname="auth-flow.spec.ts" time="10.791">
</testcase>
<testcase name="Role Switching (E2E Mode) › Role inválida = sem permissões" classname="auth-flow.spec.ts" time="9.426">
</testcase>
<testcase name="Protected Routes › /admin requer role ADMIN" classname="auth-flow.spec.ts" time="14.188">
</testcase>
<testcase name="Protected Routes › /dashboard permite qualquer role autenticada" classname="auth-flow.spec.ts" time="6.715">
</testcase>
<testcase name="Protected Routes › Rota pública (/denuncia) não requer autenticação" classname="auth-flow.spec.ts" time="5.907">
</testcase>
<testcase name="User Context › UserMenu mostra informações do usuário" classname="auth-flow.spec.ts" time="4.902">
</testcase>
<testcase name="User Context › RoleBadge mostra role atual" classname="auth-flow.spec.ts" time="6.103">
</testcase>
<testcase name="Security › Token não é exposto no localStorage" classname="auth-flow.spec.ts" time="5.921">
</testcase>
<testcase name="Security › Navegação protegida não vaza informações" classname="auth-flow.spec.ts" time="11.33">
</testcase>
</testsuite>
<testsuite name="auth.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="5" failures="5" skipped="0" time="126.526" errors="0">
<testcase name="Autenticação › deve exibir página de login ao acessar sem autenticação" classname="auth.spec.ts" time="11.115">
<failure message="auth.spec.ts:8:3 deve exibir página de login ao acessar sem autenticação" type="FAILURE">
<![CDATA[  [chromium] › auth.spec.ts:8:3 › Autenticação › deve exibir página de login ao acessar sem autenticação 

    Error: expect(page).toHaveURL(expected) failed

    Expected pattern: /login|auth|keycloak/i
    Received string:  "http://localhost:6090/"
    Timeout: 5000ms

    Call log:
      - Expect "toHaveURL" with timeout 5000ms
        7 × unexpected value "http://localhost:6090/"


      10 |     
      11 |     // Deve redirecionar para Keycloak ou mostrar botão de login
    > 12 |     await expect(page).toHaveURL(/login|auth|keycloak/i);
         |                        ^
      13 |   });
      14 |
      15 |   test('deve fazer login com credenciais válidas', async ({ page, context }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:12:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer login com credenciais válidas" classname="auth.spec.ts" time="15.118">
<failure message="auth.spec.ts:15:3 deve fazer login com credenciais válidas" type="FAILURE">
<![CDATA[  [chromium] › auth.spec.ts:15:3 › Autenticação › deve fazer login com credenciais válidas ─────────

    TimeoutError: page.waitForURL: Timeout 10000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      17 |     
      18 |     // Assumindo redirecionamento para Keycloak
    > 19 |     await page.waitForURL(/keycloak/i, { timeout: 10000 });
         |                ^
      20 |     
      21 |     // Preencher credenciais
      22 |     await page.fill('input[name="username"]', 'test@techdengue.mt.gov.br');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:19:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve rejeitar login com credenciais inválidas" classname="auth.spec.ts" time="42.562">
<failure message="auth.spec.ts:36:3 deve rejeitar login com credenciais inválidas" type="FAILURE">
<![CDATA[  [chromium] › auth.spec.ts:36:3 › Autenticação › deve rejeitar login com credenciais inválidas ────

    Test timeout of 30000ms exceeded.

    Error: page.waitForURL: Test timeout of 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      36 |   test('deve rejeitar login com credenciais inválidas', async ({ page }) => {
      37 |     await page.goto('/');
    > 38 |     await page.waitForURL(/keycloak/i);
         |                ^
      39 |     
      40 |     await page.fill('input[name="username"]', 'invalid@test.com');
      41 |     await page.fill('input[name="password"]', 'wrongpass');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:38:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer logout corretamente" classname="auth.spec.ts" time="15.046">
<failure message="auth.spec.ts:48:3 deve fazer logout corretamente" type="FAILURE">
<![CDATA[  [chromium] › auth.spec.ts:48:3 › Autenticação › deve fazer logout corretamente ───────────────────

    TimeoutError: page.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="user-menu"]')


      51 |     
      52 |     // Click no menu do usuário
    > 53 |     await page.click('[data-testid="user-menu"]');
         |                ^
      54 |     
      55 |     // Click em logout
      56 |     await page.click('[data-testid="logout-button"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:53:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-chromium\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-chromium\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve renovar token automaticamente" classname="auth.spec.ts" time="42.685">
<failure message="auth.spec.ts:62:3 deve renovar token automaticamente" type="FAILURE">
<![CDATA[  [chromium] › auth.spec.ts:62:3 › Autenticação › deve renovar token automaticamente ───────────────

    Test timeout of 30000ms exceeded.

    Error: page.waitForTimeout: Test timeout of 30000ms exceeded.

      65 |     // Aguardar 5 minutos para testar silent renew
      66 |     // (em prod o token expira em 5min, silent renew ocorre automaticamente)
    > 67 |     await page.waitForTimeout(5 * 60 * 1000);
         |                ^
      68 |     
      69 |     // Fazer requisição que exige token
      70 |     await page.click('[data-testid="dashboard-link"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-chromium\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-chromium\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-chromium\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="collapse.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="2" failures="0" skipped="0" time="7.449" errors="0">
<testcase name="Collapse persistence › AppSidebar collapse persists across reload" classname="collapse.spec.ts" time="3.592">
</testcase>
<testcase name="Collapse persistence › Submenu collapse persists across reload" classname="collapse.spec.ts" time="3.857">
</testcase>
</testsuite>
<testsuite name="darkmode.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="1" failures="0" skipped="0" time="3.485" errors="0">
<testcase name="Dark mode navigation UI › toggles theme-dark on root and back" classname="darkmode.spec.ts" time="3.485">
</testcase>
</testsuite>
<testsuite name="dashboard.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="8" failures="8" skipped="0" time="95.952" errors="0">
<testcase name="Dashboard EPI › deve carregar KPIs corretamente" classname="dashboard.spec.ts" time="11.956">
<failure message="dashboard.spec.ts:13:3 deve carregar KPIs corretamente" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:13:3 › Dashboard EPI › deve carregar KPIs corretamente ────────────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      13 |   test('deve carregar KPIs corretamente', async ({ page }) => {
      14 |     // Aguardar carregamento
    > 15 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
         |                ^
      16 |     
      17 |     // Verificar se pelo menos 4 KPIs foram carregados
      18 |     const kpiCards = page.locator('[data-testid="kpi-card"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:15:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve aplicar filtros e recarregar dados" classname="dashboard.spec.ts" time="12.748">
<failure message="dashboard.spec.ts:28:3 deve aplicar filtros e recarregar dados" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:28:3 › Dashboard EPI › deve aplicar filtros e recarregar dados ────

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-ano"]')


      28 |   test('deve aplicar filtros e recarregar dados', async ({ page }) => {
      29 |     // Selecionar ano
    > 30 |     await page.selectOption('[data-testid="filter-ano"]', '2023');
         |                ^
      31 |     
      32 |     // Aguardar recarregamento (spinner ou loading state)
      33 |     await page.waitForLoadState('networkidle');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:30:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir gráfico de série temporal" classname="dashboard.spec.ts" time="12.113">
<failure message="dashboard.spec.ts:40:3 deve exibir gráfico de série temporal" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:40:3 › Dashboard EPI › deve exibir gráfico de série temporal ──────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('canvas') to be visible


      40 |   test('deve exibir gráfico de série temporal', async ({ page }) => {
      41 |     // Aguardar gráfico carregar
    > 42 |     await page.waitForSelector('canvas', { timeout: 10000 });
         |                ^
      43 |     
      44 |     // Verificar que canvas está visível
      45 |     const canvas = page.locator('canvas').first();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:42:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir ranking top 10 municípios" classname="dashboard.spec.ts" time="12.295">
<failure message="dashboard.spec.ts:55:3 deve exibir ranking top 10 municípios" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:55:3 › Dashboard EPI › deve exibir ranking top 10 municípios ──────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="top-n-chart"]') to be visible


      55 |   test('deve exibir ranking top 10 municípios', async ({ page }) => {
      56 |     // Aguardar tabela/gráfico de ranking
    > 57 |     await page.waitForSelector('[data-testid="top-n-chart"]', { timeout: 10000 });
         |                ^
      58 |     
      59 |     // Verificar se pelo menos 5 municípios aparecem
      60 |     const items = page.locator('[data-testid="ranking-item"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:57:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve alternar entre diferentes doenças" classname="dashboard.spec.ts" time="11.526">
<failure message="dashboard.spec.ts:65:3 deve alternar entre diferentes doenças" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:65:3 › Dashboard EPI › deve alternar entre diferentes doenças ─────

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-doenca"]')


      65 |   test('deve alternar entre diferentes doenças', async ({ page }) => {
      66 |     // Selecionar dengue
    > 67 |     await page.selectOption('[data-testid="filter-doenca"]', 'DENGUE');
         |                ^
      68 |     await page.waitForLoadState('networkidle');
      69 |     
      70 |     const kpiDengue = await page.locator('[data-testid="kpi-total-casos"]').textContent();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir variação percentual nos KPIs" classname="dashboard.spec.ts" time="3.942">
<failure message="dashboard.spec.ts:82:3 deve exibir variação percentual nos KPIs" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:82:3 › Dashboard EPI › deve exibir variação percentual nos KPIs ───

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      84 |     const trendingIcons = page.locator('[data-testid="kpi-trend"]');
      85 |     const count = await trendingIcons.count();
    > 86 |     expect(count).toBeGreaterThan(0);
         |                   ^
      87 |   });
      88 |
      89 |   test('deve ser responsivo em mobile', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:86:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve ser responsivo em mobile" classname="dashboard.spec.ts" time="12.785">
<failure message="dashboard.spec.ts:89:3 deve ser responsivo em mobile" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:89:3 › Dashboard EPI › deve ser responsivo em mobile ──────────────

    TimeoutError: locator.boundingBox: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]').first()


       96 |     const secondCard = kpiCards.nth(1);
       97 |     
    >  98 |     const firstBox = await firstCard.boundingBox();
          |                                      ^
       99 |     const secondBox = await secondCard.boundingBox();
      100 |     
      101 |     // Segunda carta deve estar abaixo da primeira (não ao lado)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:98:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › performance: deve carregar em menos de 4 segundos" classname="dashboard.spec.ts" time="18.587">
<failure message="dashboard.spec.ts:105:3 performance: deve carregar em menos de 4 segundos" type="FAILURE">
<![CDATA[  [chromium] › dashboard.spec.ts:105:3 › Dashboard EPI › performance: deve carregar em menos de 4 segundos 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      107 |     
      108 |     await page.goto('/dashboard');
    > 109 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
          |                ^
      110 |     
      111 |     const loadTime = Date.now() - startTime;
      112 |     
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:109:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-chromium\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="mobile.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="3" failures="0" skipped="0" time="28.248" errors="0">
<testcase name="Mobile navigation › primary sidebar drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="9.95">
</testcase>
<testcase name="Mobile navigation › secondary submenu drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="12.031">
</testcase>
<testcase name="Mobile navigation › dark mode toggle works on mobile" classname="mobile.spec.ts" time="6.267">
</testcase>
</testsuite>
<testsuite name="navigation.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="6" failures="4" skipped="0" time="90.489" errors="0">
<testcase name="Navigation &amp; Menus › home renders layout and sidebar" classname="navigation.spec.ts" time="10.606">
</testcase>
<testcase name="Navigation &amp; Menus › module page shows functions and subtitles" classname="navigation.spec.ts" time="20.564">
<failure message="navigation.spec.ts:23:3 module page shows functions and subtitles" type="FAILURE">
<![CDATA[  [chromium] › navigation.spec.ts:23:3 › Navigation & Menus › module page shows functions and subtitles 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('.module-functions-panel')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('.module-functions-panel')


      32 |
      33 |     // Functions panel visible
    > 34 |     await expect(page.locator(functionsPanel)).toBeVisible()
         |                                                ^
      35 |     await expect(page.getByRole('heading', { name: 'Ferramentas' })).toBeVisible()
      36 |
      37 |     // Card shows name and subtitle (scoped to functions panel)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:34:48

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › functions collapse persists across reload" classname="navigation.spec.ts" time="19.596">
<failure message="navigation.spec.ts:43:3 functions collapse persists across reload" type="FAILURE">
<![CDATA[  [chromium] › navigation.spec.ts:43:3 › Navigation & Menus › functions collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header .collapse-btn')


      49 |     })
      50 |     const btn = page.locator(`${functionsPanel} .functions-header .collapse-btn`)
    > 51 |     await btn.click()
         |               ^
      52 |
      53 |     // html should have class functions-collapsed
      54 |     await expect(page.locator('html')).toHaveClass(/functions-collapsed/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:51:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › search filters tools by name/subtitle" classname="navigation.spec.ts" time="19.153">
<failure message="navigation.spec.ts:69:3 search filters tools by name/subtitle" type="FAILURE">
<![CDATA[  [chromium] › navigation.spec.ts:69:3 › Navigation & Menus › search filters tools by name/subtitle 

    TimeoutError: locator.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header input[type="search"]')


      74 |     })
      75 |     const search = page.locator(`${functionsPanel} .functions-header input[type="search"]`)
    > 76 |     await search.fill('climático')
         |                  ^
      77 |     const riscoCard = page.locator(`${functionsPanel} a.function-card`, { hasText: 'Risco Climático' })
      78 |     await expect(riscoCard).toBeVisible()
      79 |     // an unrelated card should disappear from DOM after filtering
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:76:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › favorites pin/unpin persists" classname="navigation.spec.ts" time="16.094">
<failure message="navigation.spec.ts:84:3 favorites pin/unpin persists" type="FAILURE">
<![CDATA[  [chromium] › navigation.spec.ts:84:3 › Navigation & Menus › favorites pin/unpin persists ─────────

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByRole('link', { name: /Nowcasting \/ Rt/ }).locator('button.function-fav')


      93 |
      94 |     // pin
    > 95 |     await favBtn.click()
         |                  ^
      96 |     await expect(page.getByText('Favoritos')).toBeVisible()
      97 |
      98 |     // reload keeps favorite
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:95:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › app sidebar active link uses aria-current" classname="navigation.spec.ts" time="4.476">
</testcase>
</testsuite>
<testsuite name="permissions.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="20" failures="4" skipped="0" time="135.655" errors="0">
<testcase name="Permissões Granulares › ADMIN deve ter acesso completo" classname="permissions.spec.ts" time="7.314">
<failure message="permissions.spec.ts:16:3 ADMIN deve ter acesso completo" type="FAILURE">
<![CDATA[  [chromium] › permissions.spec.ts:16:3 › Permissões Granulares › ADMIN deve ter acesso completo ───

    Error: expect(locator).toBeVisible() failed

    Locator: locator('a[href="/dashboard"]')
    Expected: visible
    Error: strict mode violation: locator('a[href="/dashboard"]') resolved to 2 elements:
        1) <a class="active" href="/dashboard" aria-current="page" title="Panorama Executivo">…</a> aka getByRole('link', { name: 'Panorama Executivo' })
        2) <a class="active" href="/dashboard" aria-current="page" title="Dashboard Consolidado">…</a> aka getByRole('link', { name: 'Dashboard Consolidado KPIs e' })

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('a[href="/dashboard"]')


      26 |     
      27 |     // Deve ter link para Dashboard Executivo
    > 28 |     await expect(page.locator('a[href="/dashboard"]')).toBeVisible()
         |                                                        ^
      29 |     
      30 |     // Deve ter link para Admin
      31 |     await expect(page.locator('a[href*="/admin"]')).toBeVisible()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:28:56

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › GESTOR tem permissões de visualização e relatórios" classname="permissions.spec.ts" time="9.974">
<failure message="permissions.spec.ts:34:3 GESTOR tem permissões de visualização e relatórios" type="FAILURE">
<![CDATA[  [chromium] › permissions.spec.ts:34:3 › Permissões Granulares › GESTOR tem permissões de visualização e relatórios 

    Error: expect(locator).toContainText(expected) failed

    Locator: locator('h1')
    Expected pattern: /Dashboard|Painel/
    Received string:  "TechDengue"
    Timeout: 5000ms

    Call log:
      - Expect "toContainText" with timeout 5000ms
      - waiting for locator('h1')
        8 × locator resolved to <h1 class="text-lg font-bold text-gray-900">TechDengue</h1>
          - unexpected value "TechDengue"


      38 |     
      39 |     // Gestor deve ver dashboard
    > 40 |     await expect(page.locator('h1')).toContainText(/Dashboard|Painel/)
         |                                      ^
      41 |     
      42 |     // Deve ter acesso ao mapa
      43 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:40:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › VIGILANCIA tem CRUD de vigilância" classname="permissions.spec.ts" time="4.573">
</testcase>
<testcase name="Permissões Granulares › CAMPO tem acesso limitado" classname="permissions.spec.ts" time="3.593">
</testcase>
<testcase name="Permissões Granulares › Múltiplas roles acumulam permissões" classname="permissions.spec.ts" time="5.082">
</testcase>
<testcase name="Permissões Granulares › Sem roles = sem acesso" classname="permissions.spec.ts" time="5.361">
</testcase>
<testcase name="Permissões Granulares › RoleBadge mostra roles corretas" classname="permissions.spec.ts" time="5.224">
</testcase>
<testcase name="Permissões Granulares › RestrictedFeature oculta conteúdo sem permissão" classname="permissions.spec.ts" time="8.401">
</testcase>
<testcase name="Permissões Granulares › AccessDeniedBanner aparece ao acessar rota sem permissão" classname="permissions.spec.ts" time="2.966">
</testcase>
<testcase name="Componentes de Permissão › PermissionGate oculta conteúdo sem permissão" classname="permissions.spec.ts" time="7.627">
</testcase>
<testcase name="Componentes de Permissão › Can component mostra/oculta baseado em permissão" classname="permissions.spec.ts" time="7.507">
</testcase>
<testcase name="Validação de Roles › Role inválida = tratada como sem permissão" classname="permissions.spec.ts" time="6.481">
</testcase>
<testcase name="Validação de Roles › LocalStorage e2e-roles tem precedência" classname="permissions.spec.ts" time="3.555">
</testcase>
<testcase name="Validação de Roles › Query param sobrescreve localStorage" classname="permissions.spec.ts" time="3.802">
</testcase>
<testcase name="Navegação por Permissão › Sidebar filtra itens por permissão" classname="permissions.spec.ts" time="18.344">
<failure message="permissions.spec.ts:203:3 Sidebar filtra itens por permissão" type="FAILURE">
<![CDATA[  [chromium] › permissions.spec.ts:203:3 › Navegação por Permissão › Sidebar filtra itens por permissão 

    Error: expect(locator).not.toBeVisible() failed

    Locator:  locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
    Expected: not visible
    Received: visible
    Timeout:  5000ms

    Call log:
      - Expect "not toBeVisible" with timeout 5000ms
      - waiting for locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
        8 × locator resolved to <a class="" title="Administração" href="/modulos/administracao">…</a>
          - unexpected value "visible"


      209 |     // CAMPO não deve ver link de Admin
      210 |     const adminLink = sidebar.locator('a[href*="/admin"]')
    > 211 |     await expect(adminLink).not.toBeVisible()
          |                                 ^
      212 |   })
      213 |
      214 |   test('ADMIN vê todos os itens do sidebar', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:211:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navegação por Permissão › ADMIN vê todos os itens do sidebar" classname="permissions.spec.ts" time="6.091">
</testcase>
<testcase name="Navegação por Permissão › CAMPO vê apenas links básicos" classname="permissions.spec.ts" time="5.273">
<failure message="permissions.spec.ts:229:3 CAMPO vê apenas links básicos" type="FAILURE">
<![CDATA[  [chromium] › permissions.spec.ts:229:3 › Navegação por Permissão › CAMPO vê apenas links básicos ─

    Error: expect(received).toBeLessThan(expected)

    Expected: < 5
    Received:   13

      239 |     
      240 |     // CAMPO tem acesso limitado
    > 241 |     expect(count).toBeLessThan(5)
          |                   ^
      242 |   })
      243 | })
      244 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:241:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-chromium\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance e Estabilidade › Verificação de permissões não causa lag" classname="permissions.spec.ts" time="9.849">
</testcase>
<testcase name="Performance e Estabilidade › Mudança de role atualiza permissões" classname="permissions.spec.ts" time="6.102">
</testcase>
<testcase name="Performance e Estabilidade › Permissões persistem entre navegações" classname="permissions.spec.ts" time="8.536">
</testcase>
</testsuite>
<testsuite name="roles-ui.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="27" failures="0" skipped="0" time="158.7" errors="0">
<testcase name="RoleBadge Component › Mostra badge de ADMIN com cor roxa" classname="roles-ui.spec.ts" time="7.432">
</testcase>
<testcase name="RoleBadge Component › Mostra badge de GESTOR com cor azul" classname="roles-ui.spec.ts" time="4.352">
</testcase>
<testcase name="RoleBadge Component › Modo compact mostra apenas role principal" classname="roles-ui.spec.ts" time="5.74">
</testcase>
<testcase name="RoleBadge Component › Badge tem ícone apropriado" classname="roles-ui.spec.ts" time="7.131">
</testcase>
<testcase name="RestrictedFeature Component › Oculta conteúdo quando falta role" classname="roles-ui.spec.ts" time="5.902">
</testcase>
<testcase name="RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado" classname="roles-ui.spec.ts" time="7.652">
</testcase>
<testcase name="RestrictedFeature Component › Tooltip mostra roles necessárias ao hover" classname="roles-ui.spec.ts" time="7.454">
</testcase>
<testcase name="RestrictedFeature Component › Mostra fallback customizado quando fornecido" classname="roles-ui.spec.ts" time="2.072">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner aparece ao acessar rota sem permissão" classname="roles-ui.spec.ts" time="4.951">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner mostra roles necessárias" classname="roles-ui.spec.ts" time="4.622">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner variante error tem cor vermelha" classname="roles-ui.spec.ts" time="6.742">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Voltar funciona" classname="roles-ui.spec.ts" time="6.823">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Ir para Home funciona" classname="roles-ui.spec.ts" time="6.762">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner pode ser fechado se tem onDismiss" classname="roles-ui.spec.ts" time="5.173">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo renderiza para role autorizada" classname="roles-ui.spec.ts" time="5.625">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo não renderiza para role não autorizada" classname="roles-ui.spec.ts" time="5.989">
</testcase>
<testcase name="PermissionGate Integration › Múltiplos PermissionGates funcionam simultaneamente" classname="roles-ui.spec.ts" time="12.218">
</testcase>
<testcase name="Visual Feedback › Elemento bloqueado tem opacity reduzida" classname="roles-ui.spec.ts" time="4.455">
</testcase>
<testcase name="Visual Feedback › Hover em elemento bloqueado mostra cursor not-allowed" classname="roles-ui.spec.ts" time="4.891">
</testcase>
<testcase name="Visual Feedback › Animação slideDown funciona em banner" classname="roles-ui.spec.ts" time="3.129">
</testcase>
<testcase name="Accessibility › RoleBadge tem tooltip acessível" classname="roles-ui.spec.ts" time="7.344">
</testcase>
<testcase name="Accessibility › AccessDeniedBanner tem role=&quot;alert&quot;" classname="roles-ui.spec.ts" time="4.373">
</testcase>
<testcase name="Accessibility › Botões têm labels descritivos" classname="roles-ui.spec.ts" time="4.598">
</testcase>
<testcase name="Dark Mode › RoleBadge adapta cores em dark mode" classname="roles-ui.spec.ts" time="8.269">
</testcase>
<testcase name="Dark Mode › AccessDeniedBanner adapta cores em dark mode" classname="roles-ui.spec.ts" time="5.424">
</testcase>
<testcase name="Performance › Renderização de múltiplos RestrictedFeatures é rápida" classname="roles-ui.spec.ts" time="4.802">
</testcase>
<testcase name="Performance › Troca de role re-renderiza componentes rapidamente" classname="roles-ui.spec.ts" time="4.775">
</testcase>
</testsuite>
<testsuite name="roles.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="chromium" tests="4" failures="0" skipped="0" time="17.697" errors="0">
<testcase name="Role-based navigation visibility › ADMIN role shows admin-only modules and hides vigilancia/campo" classname="roles.spec.ts" time="5.591">
</testcase>
<testcase name="Role-based navigation visibility › GESTOR role shows gestão/vigilância/campo and hides admin-only" classname="roles.spec.ts" time="4.676">
</testcase>
<testcase name="Role-based navigation visibility › VIGILANCIA role shows vigilancia and hides admin/etl/observability/campo" classname="roles.spec.ts" time="4.067">
</testcase>
<testcase name="Role-based navigation visibility › CAMPO role shows only operacional and hides admin/dados/vigilância" classname="roles.spec.ts" time="3.363">
</testcase>
</testsuite>
<testsuite name="auth-flow.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="18" failures="12" skipped="0" time="566.987" errors="0">
<testcase name="Fluxo de Autenticação › Login redirecion a para dashboard após autenticação" classname="auth-flow.spec.ts" time="18.201">
</testcase>
<testcase name="Fluxo de Autenticação › Usuário não autenticado é redirecionado para login" classname="auth-flow.spec.ts" time="15.959">
</testcase>
<testcase name="Fluxo de Autenticação › Roles são extraídas do token corretamente" classname="auth-flow.spec.ts" time="37.485">
<failure message="auth-flow.spec.ts:40:3 Roles são extraídas do token corretamente" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:40:3 › Fluxo de Autenticação › Roles são extraídas do token corretamente 

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 |
       7 | test.describe('Fluxo de Autenticação', () => {
    >  8 |   test.beforeEach(async ({ page }) => {
         |        ^
       9 |     // Limpar estado
      10 |     await page.goto('/')
      11 |     await page.evaluate(() => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:8:8

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Fluxo-de-Autenti-82561-aídas-do-token-corretamente-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-flow-Fluxo-de-Autenti-82561-aídas-do-token-corretamente-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Fluxo-de-Autenti-82561-aídas-do-token-corretamente-firefox\video.webm]]

[[ATTACHMENT|auth-flow-Fluxo-de-Autenti-82561-aídas-do-token-corretamente-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Fluxo de Autenticação › Token expirado resulta em logout" classname="auth-flow.spec.ts" time="35.376">
<failure message="auth-flow.spec.ts:49:3 Token expirado resulta em logout" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:49:3 › Fluxo de Autenticação › Token expirado resulta em logout ────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      52 |     
      53 |     await page.goto('/?e2e-roles=ADMIN')
    > 54 |     await page.goto('/dashboard')
         |                ^
      55 |     await expect(page).toHaveTitle(/TechDengue/)
      56 |   })
      57 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:54:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\video.webm]]

[[ATTACHMENT|auth-flow-Fluxo-de-Autenti-e1ee5--expirado-resulta-em-logout-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Fluxo de Autenticação › Refresh token renova sessão" classname="auth-flow.spec.ts" time="35.878">
<failure message="auth-flow.spec.ts:58:3 Refresh token renova sessão" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:58:3 › Fluxo de Autenticação › Refresh token renova sessão ─────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/?e2e-roles=ADMIN", waiting until "load"


      60 |     // Requer integração real com Keycloak
      61 |     
    > 62 |     await page.goto('/?e2e-roles=ADMIN')
         |                ^
      63 |     await page.goto('/dashboard')
      64 |     await expect(page).toHaveTitle(/TechDengue/)
      65 |   })
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:62:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Fluxo-de-Autenticação-Refresh-token-renova-sessão-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Fluxo-de-Autenticação-Refresh-token-renova-sessão-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Session Management › Session persiste após reload" classname="auth-flow.spec.ts" time="33.532">
<failure message="auth-flow.spec.ts:69:3 Session persiste após reload" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:69:3 › Session Management › Session persiste após reload ───────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      69 |   test('Session persiste após reload', async ({ page }) => {
      70 |     await page.goto('/?e2e-roles=ADMIN')
    > 71 |     await page.goto('/dashboard')
         |                ^
      72 |     
      73 |     // Reload da página
      74 |     await page.reload()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:71:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Session-Management-Session-persiste-após-reload-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Session-Management-Session-persiste-após-reload-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Session-Management-Session-persiste-após-reload-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Session-Management-Session-persiste-após-reload-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Session Management › Session persiste entre navegações" classname="auth-flow.spec.ts" time="35.781">
<failure message="auth-flow.spec.ts:81:3 Session persiste entre navegações" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:81:3 › Session Management › Session persiste entre navegações ──────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      81 |   test('Session persiste entre navegações', async ({ page }) => {
      82 |     await page.goto('/?e2e-roles=ADMIN')
    > 83 |     await page.goto('/dashboard')
         |                ^
      84 |     
      85 |     // Navegar para outra página
      86 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:83:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Session-Manageme-ae2a7-n-persiste-entre-navegações-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Session-Manageme-ae2a7-n-persiste-entre-navegações-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Session Management › Logout limpa session e redireciona" classname="auth-flow.spec.ts" time="37.749">
<failure message="auth-flow.spec.ts:94:3 Logout limpa session e redireciona" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:94:3 › Session Management › Logout limpa session e redireciona ─────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/?e2e-roles=ADMIN", waiting until "load"


      93 |
      94 |   test('Logout limpa session e redireciona', async ({ page }) => {
    > 95 |     await page.goto('/?e2e-roles=ADMIN')
         |                ^
      96 |     await page.goto('/dashboard')
      97 |     
      98 |     // Procurar botão de logout (pode estar em UserMenu)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:95:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Session-Manageme-053e9-limpa-session-e-redireciona-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Session-Manageme-053e9-limpa-session-e-redireciona-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via localStorage" classname="auth-flow.spec.ts" time="31.577">
<failure message="auth-flow.spec.ts:116:3 Trocar de role via localStorage" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:116:3 › Role Switching (E2E Mode) › Trocar de role via localStorage 

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      117 |     // Iniciar como CAMPO
      118 |     await page.goto('/?e2e-roles=CAMPO')
    > 119 |     await page.goto('/dashboard')
          |                ^
      120 |     
      121 |     // Trocar para ADMIN
      122 |     await page.evaluate(() => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:119:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Role-Switching-E-112ef-ar-de-role-via-localStorage-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Role-Switching-E-112ef-ar-de-role-via-localStorage-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Role-Switching-E-112ef-ar-de-role-via-localStorage-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Role-Switching-E-112ef-ar-de-role-via-localStorage-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via query param" classname="auth-flow.spec.ts" time="36.281">
</testcase>
<testcase name="Role Switching (E2E Mode) › Role inválida = sem permissões" classname="auth-flow.spec.ts" time="34.207">
<failure message="auth-flow.spec.ts:144:3 Role inválida = sem permissões" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:144:3 › Role Switching (E2E Mode) › Role inválida = sem permissões ─

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      144 |   test('Role inválida = sem permissões', async ({ page }) => {
      145 |     await page.goto('/?e2e-roles=INVALID')
    > 146 |     await page.goto('/dashboard')
          |                ^
      147 |     
      148 |     // Sistema deve tratar role inválida gracefully
      149 |     // Pode mostrar acesso limitado ou redirecionar
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:146:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Role-Switching-E-e9e99-ole-inválida-sem-permissões-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Role-Switching-E-e9e99-ole-inválida-sem-permissões-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Role-Switching-E-e9e99-ole-inválida-sem-permissões-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Role-Switching-E-e9e99-ole-inválida-sem-permissões-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Protected Routes › /admin requer role ADMIN" classname="auth-flow.spec.ts" time="33.04">
<failure message="auth-flow.spec.ts:156:3 /admin requer role ADMIN" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:156:3 › Protected Routes › /admin requer role ADMIN ────────────────

    Test timeout of 30000ms exceeded.

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\video.webm]]

[[ATTACHMENT|auth-flow-Protected-Routes-admin-requer-role-ADMIN-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Protected Routes › /dashboard permite qualquer role autenticada" classname="auth-flow.spec.ts" time="35.311">
<failure message="auth-flow.spec.ts:172:3 /dashboard permite qualquer role autenticada" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:172:3 › Protected Routes › /dashboard permite qualquer role autenticada 

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      174 |     for (const role of ['ADMIN', 'GESTOR', 'VIGILANCIA', 'CAMPO']) {
      175 |       await page.goto(`/?e2e-roles=${role}`)
    > 176 |       await page.goto('/dashboard')
          |                  ^
      177 |       
      178 |       await expect(page).toHaveURL(/\/dashboard/)
      179 |       await expect(page).toHaveTitle(/TechDengue/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:176:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Protected-Routes-e5745-e-qualquer-role-autenticada-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Protected-Routes-e5745-e-qualquer-role-autenticada-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Protected-Routes-e5745-e-qualquer-role-autenticada-firefox\test-failed-1.png]]

[[ATTACHMENT|auth-flow-Protected-Routes-e5745-e-qualquer-role-autenticada-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Protected Routes › Rota pública (/denuncia) não requer autenticação" classname="auth-flow.spec.ts" time="12.492">
</testcase>
<testcase name="User Context › UserMenu mostra informações do usuário" classname="auth-flow.spec.ts" time="9.994">
</testcase>
<testcase name="User Context › RoleBadge mostra role atual" classname="auth-flow.spec.ts" time="30.664">
</testcase>
<testcase name="Security › Token não é exposto no localStorage" classname="auth-flow.spec.ts" time="51.069">
<failure message="auth-flow.spec.ts:220:3 Token não é exposto no localStorage" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:220:3 › Security › Token não é exposto no localStorage ─────────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/dashboard", waiting until "load"


      220 |   test('Token não é exposto no localStorage', async ({ page }) => {
      221 |     await page.goto('/?e2e-roles=ADMIN')
    > 222 |     await page.goto('/dashboard')
          |                ^
      223 |     
      224 |     // Verificar que token JWT não está em texto plano no localStorage
      225 |     const storageKeys = await page.evaluate(() => Object.keys(localStorage))
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:222:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Security-Token-não-é-exposto-no-localStorage-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Security-Token-não-é-exposto-no-localStorage-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Security › Navegação protegida não vaza informações" classname="auth-flow.spec.ts" time="42.391">
<failure message="auth-flow.spec.ts:232:3 Navegação protegida não vaza informações" type="FAILURE">
<![CDATA[  [firefox] › auth-flow.spec.ts:232:3 › Security › Navegação protegida não vaza informações ────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/admin", waiting until "load"


      232 |   test('Navegação protegida não vaza informações', async ({ page }) => {
      233 |     await page.goto('/?e2e-roles=CAMPO')
    > 234 |     await page.goto('/admin')
          |                ^
      235 |     
      236 |     // Mesmo sem acesso, não deve vazar info sensível
      237 |     const body = await page.locator('body').textContent()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth-flow.spec.ts:234:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-flow-Security-Navegação-protegida-não-vaza-informações-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-flow-Security-Navegação-protegida-não-vaza-informações-firefox\video.webm]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="auth.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="5" failures="5" skipped="0" time="247.496" errors="0">
<testcase name="Autenticação › deve exibir página de login ao acessar sem autenticação" classname="auth.spec.ts" time="52.687">
<failure message="auth.spec.ts:8:3 deve exibir página de login ao acessar sem autenticação" type="FAILURE">
<![CDATA[  [firefox] › auth.spec.ts:8:3 › Autenticação › deve exibir página de login ao acessar sem autenticação 

    Test timeout of 30000ms exceeded.

    TimeoutError: page.goto: Timeout 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/", waiting until "load"


       7 | test.describe('Autenticação', () => {
       8 |   test('deve exibir página de login ao acessar sem autenticação', async ({ page }) => {
    >  9 |     await page.goto('/');
         |                ^
      10 |     
      11 |     // Deve redirecionar para Keycloak ou mostrar botão de login
      12 |     await expect(page).toHaveURL(/login|auth|keycloak/i);
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:9:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer login com credenciais válidas" classname="auth.spec.ts" time="50.992">
<failure message="auth.spec.ts:15:3 deve fazer login com credenciais válidas" type="FAILURE">
<![CDATA[  [firefox] › auth.spec.ts:15:3 › Autenticação › deve fazer login com credenciais válidas ──────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/", waiting until "load"


      14 |
      15 |   test('deve fazer login com credenciais válidas', async ({ page, context }) => {
    > 16 |     await page.goto('/');
         |                ^
      17 |     
      18 |     // Assumindo redirecionamento para Keycloak
      19 |     await page.waitForURL(/keycloak/i, { timeout: 10000 });
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:16:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve rejeitar login com credenciais inválidas" classname="auth.spec.ts" time="52.837">
<failure message="auth.spec.ts:36:3 deve rejeitar login com credenciais inválidas" type="FAILURE">
<![CDATA[  [firefox] › auth.spec.ts:36:3 › Autenticação › deve rejeitar login com credenciais inválidas ─────

    Test timeout of 30000ms exceeded.

    TimeoutError: page.goto: Timeout 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/", waiting until "load"


      35 |
      36 |   test('deve rejeitar login com credenciais inválidas', async ({ page }) => {
    > 37 |     await page.goto('/');
         |                ^
      38 |     await page.waitForURL(/keycloak/i);
      39 |     
      40 |     await page.fill('input[name="username"]', 'invalid@test.com');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:37:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-firefox\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer logout corretamente" classname="auth.spec.ts" time="52.336">
<failure message="auth.spec.ts:48:3 deve fazer logout corretamente" type="FAILURE">
<![CDATA[  [firefox] › auth.spec.ts:48:3 › Autenticação › deve fazer logout corretamente ────────────────────

    Test timeout of 30000ms exceeded.

    TimeoutError: page.goto: Timeout 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/", waiting until "load"


      48 |   test('deve fazer logout corretamente', async ({ page }) => {
      49 |     // Assumindo já autenticado (usar storage state)
    > 50 |     await page.goto('/');
         |                ^
      51 |     
      52 |     // Click no menu do usuário
      53 |     await page.click('[data-testid="user-menu"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:50:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-firefox\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve renovar token automaticamente" classname="auth.spec.ts" time="38.644">
<failure message="auth.spec.ts:62:3 deve renovar token automaticamente" type="FAILURE">
<![CDATA[  [firefox] › auth.spec.ts:62:3 › Autenticação › deve renovar token automaticamente ────────────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/", waiting until "load"


      61 |
      62 |   test('deve renovar token automaticamente', async ({ page }) => {
    > 63 |     await page.goto('/');
         |                ^
      64 |     
      65 |     // Aguardar 5 minutos para testar silent renew
      66 |     // (em prod o token expira em 5min, silent renew ocorre automaticamente)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:63:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-firefox\video.webm]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="collapse.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="2" failures="1" skipped="0" time="48.074" errors="0">
<testcase name="Collapse persistence › AppSidebar collapse persists across reload" classname="collapse.spec.ts" time="36.992">
<failure message="collapse.spec.ts:20:3 AppSidebar collapse persists across reload" type="FAILURE">
<![CDATA[  [firefox] › collapse.spec.ts:20:3 › Collapse persistence › AppSidebar collapse persists across reload 

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/modulos/previsao-simulacao", waiting until "load"


      2 |
      3 | async function gotoModule(page: Page, path = '/modulos/previsao-simulacao') {
    > 4 |   await page.goto(path)
        |              ^
      5 |   await expect(page.locator('#app-submenu .module-name')).toHaveText('Previsão & Simulação')
      6 | }
      7 |
        at gotoModule (C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:4:14)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:22:11

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Collapse persistence › Submenu collapse persists across reload" classname="collapse.spec.ts" time="11.082">
</testcase>
</testsuite>
<testsuite name="darkmode.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="1" failures="1" skipped="0" time="35.642" errors="0">
<testcase name="Dark mode navigation UI › toggles theme-dark on root and back" classname="darkmode.spec.ts" time="35.642">
<failure message="darkmode.spec.ts:9:3 toggles theme-dark on root and back" type="FAILURE">
<![CDATA[  [firefox] › darkmode.spec.ts:9:3 › Dark mode navigation UI › toggles theme-dark on root and back ─

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/modulos/previsao-simulacao", waiting until "load"


      2 |
      3 | async function gotoAny(page: Page, path = '/modulos/previsao-simulacao') {
    > 4 |   await page.goto(path)
        |              ^
      5 |   await expect(page.locator('header')).toBeVisible()
      6 | }
      7 |
        at gotoAny (C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\darkmode.spec.ts:4:14)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\darkmode.spec.ts:10:11

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\darkmode-Dark-mode-navigat-17421-theme-dark-on-root-and-back-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|darkmode-Dark-mode-navigat-17421-theme-dark-on-root-and-back-firefox\video.webm]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="dashboard.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="8" failures="8" skipped="0" time="222.097" errors="0">
<testcase name="Dashboard EPI › deve carregar KPIs corretamente" classname="dashboard.spec.ts" time="18.297">
<failure message="dashboard.spec.ts:13:3 deve carregar KPIs corretamente" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:13:3 › Dashboard EPI › deve carregar KPIs corretamente ─────────────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      13 |   test('deve carregar KPIs corretamente', async ({ page }) => {
      14 |     // Aguardar carregamento
    > 15 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
         |                ^
      16 |     
      17 |     // Verificar se pelo menos 4 KPIs foram carregados
      18 |     const kpiCards = page.locator('[data-testid="kpi-card"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:15:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve aplicar filtros e recarregar dados" classname="dashboard.spec.ts" time="30.75">
<failure message="dashboard.spec.ts:28:3 deve aplicar filtros e recarregar dados" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:28:3 › Dashboard EPI › deve aplicar filtros e recarregar dados ─────

    Test timeout of 30000ms exceeded.

    Error: page.selectOption: Test timeout of 30000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-ano"]')


      28 |   test('deve aplicar filtros e recarregar dados', async ({ page }) => {
      29 |     // Selecionar ano
    > 30 |     await page.selectOption('[data-testid="filter-ano"]', '2023');
         |                ^
      31 |     
      32 |     // Aguardar recarregamento (spinner ou loading state)
      33 |     await page.waitForLoadState('networkidle');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:30:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir gráfico de série temporal" classname="dashboard.spec.ts" time="26.338">
<failure message="dashboard.spec.ts:40:3 deve exibir gráfico de série temporal" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:40:3 › Dashboard EPI › deve exibir gráfico de série temporal ───────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('canvas') to be visible


      40 |   test('deve exibir gráfico de série temporal', async ({ page }) => {
      41 |     // Aguardar gráfico carregar
    > 42 |     await page.waitForSelector('canvas', { timeout: 10000 });
         |                ^
      43 |     
      44 |     // Verificar que canvas está visível
      45 |     const canvas = page.locator('canvas').first();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:42:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir ranking top 10 municípios" classname="dashboard.spec.ts" time="19.958">
<failure message="dashboard.spec.ts:55:3 deve exibir ranking top 10 municípios" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:55:3 › Dashboard EPI › deve exibir ranking top 10 municípios ───────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="top-n-chart"]') to be visible


      55 |   test('deve exibir ranking top 10 municípios', async ({ page }) => {
      56 |     // Aguardar tabela/gráfico de ranking
    > 57 |     await page.waitForSelector('[data-testid="top-n-chart"]', { timeout: 10000 });
         |                ^
      58 |     
      59 |     // Verificar se pelo menos 5 municípios aparecem
      60 |     const items = page.locator('[data-testid="ranking-item"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:57:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve alternar entre diferentes doenças" classname="dashboard.spec.ts" time="32.091">
<failure message="dashboard.spec.ts:65:3 deve alternar entre diferentes doenças" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:65:3 › Dashboard EPI › deve alternar entre diferentes doenças ──────

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-doenca"]')


      65 |   test('deve alternar entre diferentes doenças', async ({ page }) => {
      66 |     // Selecionar dengue
    > 67 |     await page.selectOption('[data-testid="filter-doenca"]', 'DENGUE');
         |                ^
      68 |     await page.waitForLoadState('networkidle');
      69 |     
      70 |     const kpiDengue = await page.locator('[data-testid="kpi-total-casos"]').textContent();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir variação percentual nos KPIs" classname="dashboard.spec.ts" time="30.076">
<failure message="dashboard.spec.ts:82:3 deve exibir variação percentual nos KPIs" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:82:3 › Dashboard EPI › deve exibir variação percentual nos KPIs ────

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      84 |     const trendingIcons = page.locator('[data-testid="kpi-trend"]');
      85 |     const count = await trendingIcons.count();
    > 86 |     expect(count).toBeGreaterThan(0);
         |                   ^
      87 |   });
      88 |
      89 |   test('deve ser responsivo em mobile', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:86:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve ser responsivo em mobile" classname="dashboard.spec.ts" time="30.832">
<failure message="dashboard.spec.ts:89:3 deve ser responsivo em mobile" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:89:3 › Dashboard EPI › deve ser responsivo em mobile ───────────────

    Test timeout of 30000ms exceeded.

    Error: locator.boundingBox: Test timeout of 30000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]').first()


       96 |     const secondCard = kpiCards.nth(1);
       97 |     
    >  98 |     const firstBox = await firstCard.boundingBox();
          |                                      ^
       99 |     const secondBox = await secondCard.boundingBox();
      100 |     
      101 |     // Segunda carta deve estar abaixo da primeira (não ao lado)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:98:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › performance: deve carregar em menos de 4 segundos" classname="dashboard.spec.ts" time="33.755">
<failure message="dashboard.spec.ts:105:3 performance: deve carregar em menos de 4 segundos" type="FAILURE">
<![CDATA[  [firefox] › dashboard.spec.ts:105:3 › Dashboard EPI › performance: deve carregar em menos de 4 segundos 

    Test timeout of 30000ms exceeded.

    Error: page.waitForSelector: Test timeout of 30000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      107 |     
      108 |     await page.goto('/dashboard');
    > 109 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
          |                ^
      110 |     
      111 |     const loadTime = Date.now() - startTime;
      112 |     
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:109:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-firefox\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="mobile.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="3" failures="0" skipped="0" time="85.184" errors="0">
<testcase name="Mobile navigation › primary sidebar drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="27.679">
</testcase>
<testcase name="Mobile navigation › secondary submenu drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="28.638">
</testcase>
<testcase name="Mobile navigation › dark mode toggle works on mobile" classname="mobile.spec.ts" time="28.867">
</testcase>
</testsuite>
<testsuite name="navigation.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="6" failures="4" skipped="0" time="114.315" errors="0">
<testcase name="Navigation &amp; Menus › home renders layout and sidebar" classname="navigation.spec.ts" time="26.767">
</testcase>
<testcase name="Navigation &amp; Menus › module page shows functions and subtitles" classname="navigation.spec.ts" time="30.95">
<failure message="navigation.spec.ts:23:3 module page shows functions and subtitles" type="FAILURE">
<![CDATA[  [firefox] › navigation.spec.ts:23:3 › Navigation & Menus › module page shows functions and subtitles 

    Test timeout of 30000ms exceeded.

    Error: expect(locator).toBeVisible() failed

    Locator: locator('.module-functions-panel')
    Expected: visible
    Error: element(s) not found

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('.module-functions-panel')


      32 |
      33 |     // Functions panel visible
    > 34 |     await expect(page.locator(functionsPanel)).toBeVisible()
         |                                                ^
      35 |     await expect(page.getByRole('heading', { name: 'Ferramentas' })).toBeVisible()
      36 |
      37 |     // Card shows name and subtitle (scoped to functions panel)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:34:48

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › functions collapse persists across reload" classname="navigation.spec.ts" time="20.622">
<failure message="navigation.spec.ts:43:3 functions collapse persists across reload" type="FAILURE">
<![CDATA[  [firefox] › navigation.spec.ts:43:3 › Navigation & Menus › functions collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header .collapse-btn')


      49 |     })
      50 |     const btn = page.locator(`${functionsPanel} .functions-header .collapse-btn`)
    > 51 |     await btn.click()
         |               ^
      52 |
      53 |     // html should have class functions-collapsed
      54 |     await expect(page.locator('html')).toHaveClass(/functions-collapsed/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:51:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › search filters tools by name/subtitle" classname="navigation.spec.ts" time="15.366">
<failure message="navigation.spec.ts:69:3 search filters tools by name/subtitle" type="FAILURE">
<![CDATA[  [firefox] › navigation.spec.ts:69:3 › Navigation & Menus › search filters tools by name/subtitle ─

    TimeoutError: locator.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header input[type="search"]')


      74 |     })
      75 |     const search = page.locator(`${functionsPanel} .functions-header input[type="search"]`)
    > 76 |     await search.fill('climático')
         |                  ^
      77 |     const riscoCard = page.locator(`${functionsPanel} a.function-card`, { hasText: 'Risco Climático' })
      78 |     await expect(riscoCard).toBeVisible()
      79 |     // an unrelated card should disappear from DOM after filtering
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:76:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › favorites pin/unpin persists" classname="navigation.spec.ts" time="15.075">
<failure message="navigation.spec.ts:84:3 favorites pin/unpin persists" type="FAILURE">
<![CDATA[  [firefox] › navigation.spec.ts:84:3 › Navigation & Menus › favorites pin/unpin persists ──────────

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByRole('link', { name: /Nowcasting \/ Rt/ }).locator('button.function-fav')


      93 |
      94 |     // pin
    > 95 |     await favBtn.click()
         |                  ^
      96 |     await expect(page.getByText('Favoritos')).toBeVisible()
      97 |
      98 |     // reload keeps favorite
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:95:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › app sidebar active link uses aria-current" classname="navigation.spec.ts" time="5.535">
</testcase>
</testsuite>
<testsuite name="permissions.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="20" failures="7" skipped="0" time="409.35" errors="0">
<testcase name="Permissões Granulares › ADMIN deve ter acesso completo" classname="permissions.spec.ts" time="29.151">
<failure message="permissions.spec.ts:16:3 ADMIN deve ter acesso completo" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:16:3 › Permissões Granulares › ADMIN deve ter acesso completo ────

    Error: expect(locator).toBeVisible() failed

    Locator: locator('a[href="/dashboard"]')
    Expected: visible
    Error: strict mode violation: locator('a[href="/dashboard"]') resolved to 2 elements:
        1) <a class="active" href="/dashboard" aria-current="page" title="Panorama Executivo">…</a> aka getByRole('link', { name: 'Panorama Executivo' })
        2) <a class="active" href="/dashboard" aria-current="page" title="Dashboard Consolidado">…</a> aka getByRole('link', { name: 'Dashboard Consolidado KPIs e' })

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('a[href="/dashboard"]')


      26 |     
      27 |     // Deve ter link para Dashboard Executivo
    > 28 |     await expect(page.locator('a[href="/dashboard"]')).toBeVisible()
         |                                                        ^
      29 |     
      30 |     // Deve ter link para Admin
      31 |     await expect(page.locator('a[href*="/admin"]')).toBeVisible()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:28:56

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › GESTOR tem permissões de visualização e relatórios" classname="permissions.spec.ts" time="33.402">
<failure message="permissions.spec.ts:34:3 GESTOR tem permissões de visualização e relatórios" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:34:3 › Permissões Granulares › GESTOR tem permissões de visualização e relatórios 

    Error: expect(locator).toContainText(expected) failed

    Locator: locator('h1')
    Expected pattern: /Dashboard|Painel/
    Received string:  "TechDengue"
    Timeout: 5000ms

    Call log:
      - Expect "toContainText" with timeout 5000ms
      - waiting for locator('h1')
        7 × locator resolved to <h1 class="text-lg font-bold text-gray-900">TechDengue</h1>
          - unexpected value "TechDengue"


      38 |     
      39 |     // Gestor deve ver dashboard
    > 40 |     await expect(page.locator('h1')).toContainText(/Dashboard|Painel/)
         |                                      ^
      41 |     
      42 |     // Deve ter acesso ao mapa
      43 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:40:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › VIGILANCIA tem CRUD de vigilância" classname="permissions.spec.ts" time="6.209">
</testcase>
<testcase name="Permissões Granulares › CAMPO tem acesso limitado" classname="permissions.spec.ts" time="40.602">
<failure message="permissions.spec.ts:58:3 CAMPO tem acesso limitado" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:58:3 › Permissões Granulares › CAMPO tem acesso limitado ─────────

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 |
       7 | test.describe('Permissões Granulares', () => {
    >  8 |   test.beforeEach(async ({ page }) => {
         |        ^
       9 |     // Limpar estado
      10 |     await page.goto('/')
      11 |     await page.evaluate(() => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:8:8

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Granulares-CAMPO-tem-acesso-limitado-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Granulares-CAMPO-tem-acesso-limitado-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Granulares-CAMPO-tem-acesso-limitado-firefox\video.webm]]

[[ATTACHMENT|permissions-Permissões-Granulares-CAMPO-tem-acesso-limitado-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › Múltiplas roles acumulam permissões" classname="permissions.spec.ts" time="40.563">
<failure message="permissions.spec.ts:71:3 Múltiplas roles acumulam permissões" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:71:3 › Permissões Granulares › Múltiplas roles acumulam permissões 

    Test timeout of 30000ms exceeded while running "beforeEach" hook.

       6 |
       7 | test.describe('Permissões Granulares', () => {
    >  8 |   test.beforeEach(async ({ page }) => {
         |        ^
       9 |     // Limpar estado
      10 |     await page.goto('/')
      11 |     await page.evaluate(() => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:8:8

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-db660-s-roles-acumulam-permissões-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › Sem roles = sem acesso" classname="permissions.spec.ts" time="28.059">
</testcase>
<testcase name="Permissões Granulares › RoleBadge mostra roles corretas" classname="permissions.spec.ts" time="18.374">
</testcase>
<testcase name="Permissões Granulares › RestrictedFeature oculta conteúdo sem permissão" classname="permissions.spec.ts" time="15.794">
</testcase>
<testcase name="Permissões Granulares › AccessDeniedBanner aparece ao acessar rota sem permissão" classname="permissions.spec.ts" time="7.804">
</testcase>
<testcase name="Componentes de Permissão › PermissionGate oculta conteúdo sem permissão" classname="permissions.spec.ts" time="32.734">
<failure message="permissions.spec.ts:140:3 PermissionGate oculta conteúdo sem permissão" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:140:3 › Componentes de Permissão › PermissionGate oculta conteúdo sem permissão 

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/?e2e-roles=CAMPO", waiting until "load"


      142 |     // mas requer uma página de teste específica
      143 |     
    > 144 |     await page.goto('/?e2e-roles=CAMPO')
          |                ^
      145 |     await page.goto('/dashboard')
      146 |     
      147 |     // Verificar que elementos administrativos não aparecem
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:144:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Componentes-de-8a54f-ulta-conteúdo-sem-permissão-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Componentes-de-8a54f-ulta-conteúdo-sem-permissão-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Componentes-de-8a54f-ulta-conteúdo-sem-permissão-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Componentes-de-8a54f-ulta-conteúdo-sem-permissão-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="Componentes de Permissão › Can component mostra/oculta baseado em permissão" classname="permissions.spec.ts" time="19.829">
</testcase>
<testcase name="Validação de Roles › Role inválida = tratada como sem permissão" classname="permissions.spec.ts" time="26.114">
</testcase>
<testcase name="Validação de Roles › LocalStorage e2e-roles tem precedência" classname="permissions.spec.ts" time="8.733">
</testcase>
<testcase name="Validação de Roles › Query param sobrescreve localStorage" classname="permissions.spec.ts" time="15.757">
</testcase>
<testcase name="Navegação por Permissão › Sidebar filtra itens por permissão" classname="permissions.spec.ts" time="24.764">
<failure message="permissions.spec.ts:203:3 Sidebar filtra itens por permissão" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:203:3 › Navegação por Permissão › Sidebar filtra itens por permissão 

    Error: expect(locator).not.toBeVisible() failed

    Locator:  locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
    Expected: not visible
    Received: visible
    Timeout:  5000ms

    Call log:
      - Expect "not toBeVisible" with timeout 5000ms
      - waiting for locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
        8 × locator resolved to <a class="" title="Administração" href="/modulos/administracao">…</a>
          - unexpected value "visible"


      209 |     // CAMPO não deve ver link de Admin
      210 |     const adminLink = sidebar.locator('a[href*="/admin"]')
    > 211 |     await expect(adminLink).not.toBeVisible()
          |                                 ^
      212 |   })
      213 |
      214 |   test('ADMIN vê todos os itens do sidebar', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:211:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navegação por Permissão › ADMIN vê todos os itens do sidebar" classname="permissions.spec.ts" time="10.648">
</testcase>
<testcase name="Navegação por Permissão › CAMPO vê apenas links básicos" classname="permissions.spec.ts" time="13.594">
<failure message="permissions.spec.ts:229:3 CAMPO vê apenas links básicos" type="FAILURE">
<![CDATA[  [firefox] › permissions.spec.ts:229:3 › Navegação por Permissão › CAMPO vê apenas links básicos ──

    Error: expect(received).toBeLessThan(expected)

    Expected: < 5
    Received:   13

      239 |     
      240 |     // CAMPO tem acesso limitado
    > 241 |     expect(count).toBeLessThan(5)
          |                   ^
      242 |   })
      243 | })
      244 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:241:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance e Estabilidade › Verificação de permissões não causa lag" classname="permissions.spec.ts" time="11.347">
</testcase>
<testcase name="Performance e Estabilidade › Mudança de role atualiza permissões" classname="permissions.spec.ts" time="12.261">
</testcase>
<testcase name="Performance e Estabilidade › Permissões persistem entre navegações" classname="permissions.spec.ts" time="13.611">
</testcase>
</testsuite>
<testsuite name="roles-ui.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="27" failures="7" skipped="0" time="535.844" errors="0">
<testcase name="RoleBadge Component › Mostra badge de ADMIN com cor roxa" classname="roles-ui.spec.ts" time="9.067">
</testcase>
<testcase name="RoleBadge Component › Mostra badge de GESTOR com cor azul" classname="roles-ui.spec.ts" time="8.431">
</testcase>
<testcase name="RoleBadge Component › Modo compact mostra apenas role principal" classname="roles-ui.spec.ts" time="39.543">
<failure message="roles-ui.spec.ts:44:3 Modo compact mostra apenas role principal" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:44:3 › RoleBadge Component › Modo compact mostra apenas role principal 

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/?e2e-roles=ADMIN,GESTOR", waiting until "load"


      43 |
      44 |   test('Modo compact mostra apenas role principal', async ({ page }) => {
    > 45 |     await page.goto('/?e2e-roles=ADMIN,GESTOR')
         |                ^
      46 |     await page.goto('/dashboard')
      47 |     
      48 |     const header = page.locator('header')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:45:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-RoleBadge-Compone-ea374-ostra-apenas-role-principal-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-RoleBadge-Compone-ea374-ostra-apenas-role-principal-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="RoleBadge Component › Badge tem ícone apropriado" classname="roles-ui.spec.ts" time="22.457">
</testcase>
<testcase name="RestrictedFeature Component › Oculta conteúdo quando falta role" classname="roles-ui.spec.ts" time="21.182">
</testcase>
<testcase name="RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado" classname="roles-ui.spec.ts" time="34.909">
<failure message="roles-ui.spec.ts:76:3 Mostra lock overlay para conteúdo bloqueado" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:76:3 › RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado 

    Test timeout of 30000ms exceeded.

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\test-failed-1.png]]

[[ATTACHMENT|roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\video.webm]]

[[ATTACHMENT|roles-ui-RestrictedFeature-52382-lay-para-conteúdo-bloqueado-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="RestrictedFeature Component › Tooltip mostra roles necessárias ao hover" classname="roles-ui.spec.ts" time="7.921">
</testcase>
<testcase name="RestrictedFeature Component › Mostra fallback customizado quando fornecido" classname="roles-ui.spec.ts" time="8.052">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner aparece ao acessar rota sem permissão" classname="roles-ui.spec.ts" time="7.454">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner mostra roles necessárias" classname="roles-ui.spec.ts" time="26.637">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner variante error tem cor vermelha" classname="roles-ui.spec.ts" time="7.518">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Voltar funciona" classname="roles-ui.spec.ts" time="34.091">
<failure message="roles-ui.spec.ts:142:3 Botão Voltar funciona" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:142:3 › AccessDeniedBanner Component › Botão Voltar funciona ────────

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/admin", waiting until "load"


      145 |     
      146 |     // Ir para admin (sem permissão)
    > 147 |     await page.goto('/admin')
          |                ^
      148 |     
      149 |     // Clicar em "Voltar"
      150 |     const backButton = page.locator('button:has-text("Voltar")')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:147:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\test-failed-1.png]]

[[ATTACHMENT|roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\video.webm]]

[[ATTACHMENT|roles-ui-AccessDeniedBanner-Component-Botão-Voltar-funciona-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Ir para Home funciona" classname="roles-ui.spec.ts" time="35.688">
<failure message="roles-ui.spec.ts:161:3 Botão Ir para Home funciona" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:161:3 › AccessDeniedBanner Component › Botão Ir para Home funciona ──

    Test timeout of 30000ms exceeded.

    Error: page.goto: Test timeout of 30000ms exceeded.
    Call log:
      - navigating to "http://localhost:6090/?e2e-roles=CAMPO", waiting until "load"


      160 |
      161 |   test('Botão Ir para Home funciona', async ({ page }) => {
    > 162 |     await page.goto('/?e2e-roles=CAMPO')
          |                ^
      163 |     await page.goto('/admin')
      164 |     
      165 |     const homeButton = page.locator('button:has-text("Home")').or(
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:162:16

    attachment #1: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-AccessDeniedBanne-e79c4-Botão-Ir-para-Home-funciona-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-AccessDeniedBanne-e79c4-Botão-Ir-para-Home-funciona-firefox\video.webm]]
]]>
</system-out>
</testcase>
<testcase name="AccessDeniedBanner Component › Banner pode ser fechado se tem onDismiss" classname="roles-ui.spec.ts" time="7.902">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo renderiza para role autorizada" classname="roles-ui.spec.ts" time="7.11">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo não renderiza para role não autorizada" classname="roles-ui.spec.ts" time="16.648">
</testcase>
<testcase name="PermissionGate Integration › Múltiplos PermissionGates funcionam simultaneamente" classname="roles-ui.spec.ts" time="10.002">
</testcase>
<testcase name="Visual Feedback › Elemento bloqueado tem opacity reduzida" classname="roles-ui.spec.ts" time="12.742">
</testcase>
<testcase name="Visual Feedback › Hover em elemento bloqueado mostra cursor not-allowed" classname="roles-ui.spec.ts" time="13.058">
</testcase>
<testcase name="Visual Feedback › Animação slideDown funciona em banner" classname="roles-ui.spec.ts" time="15.812">
</testcase>
<testcase name="Accessibility › RoleBadge tem tooltip acessível" classname="roles-ui.spec.ts" time="23.374">
</testcase>
<testcase name="Accessibility › AccessDeniedBanner tem role=&quot;alert&quot;" classname="roles-ui.spec.ts" time="23.59">
</testcase>
<testcase name="Accessibility › Botões têm labels descritivos" classname="roles-ui.spec.ts" time="33.593">
<failure message="roles-ui.spec.ts:289:3 Botões têm labels descritivos" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:289:3 › Accessibility › Botões têm labels descritivos ───────────────

    Test timeout of 30000ms exceeded.

    Error: expect(received).toBeTruthy()

    Received: null

      300 |       const ariaLabel = await button.getAttribute('aria-label')
      301 |       
    > 302 |       expect(text || ariaLabel).toBeTruthy()
          |                                 ^
      303 |     }
      304 |   })
      305 | })
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:302:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\video.webm]]

[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dark Mode › RoleBadge adapta cores em dark mode" classname="roles-ui.spec.ts" time="26.232">
</testcase>
<testcase name="Dark Mode › AccessDeniedBanner adapta cores em dark mode" classname="roles-ui.spec.ts" time="28.078">
</testcase>
<testcase name="Performance › Renderização de múltiplos RestrictedFeatures é rápida" classname="roles-ui.spec.ts" time="27.945">
<failure message="roles-ui.spec.ts:344:3 Renderização de múltiplos RestrictedFeatures é rápida" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:344:3 › Performance › Renderização de múltiplos RestrictedFeatures é rápida 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 2000
    Received:   8446

      350 |     
      351 |     // Dashboard deve carregar em < 2 segundos
    > 352 |     expect(loadTime).toBeLessThan(2000)
          |                      ^
      353 |   })
      354 |
      355 |   test('Troca de role re-renderiza componentes rapidamente', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:352:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\video.webm]]

[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-firefox\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance › Troca de role re-renderiza componentes rapidamente" classname="roles-ui.spec.ts" time="26.808">
<failure message="roles-ui.spec.ts:355:3 Troca de role re-renderiza componentes rapidamente" type="FAILURE">
<![CDATA[  [firefox] › roles-ui.spec.ts:355:3 › Performance › Troca de role re-renderiza componentes rapidamente 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 1500
    Received:   4196

      364 |     
      365 |     // Troca deve ser rápida
    > 366 |     expect(switchTime).toBeLessThan(1500)
          |                        ^
      367 |   })
      368 | })
      369 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:366:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\video.webm]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-firefox\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="roles.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="firefox" tests="4" failures="0" skipped="0" time="63.749" errors="0">
<testcase name="Role-based navigation visibility › ADMIN role shows admin-only modules and hides vigilancia/campo" classname="roles.spec.ts" time="18.921">
</testcase>
<testcase name="Role-based navigation visibility › GESTOR role shows gestão/vigilância/campo and hides admin-only" classname="roles.spec.ts" time="19.827">
</testcase>
<testcase name="Role-based navigation visibility › VIGILANCIA role shows vigilancia and hides admin/etl/observability/campo" classname="roles.spec.ts" time="16.465">
</testcase>
<testcase name="Role-based navigation visibility › CAMPO role shows only operacional and hides admin/dados/vigilância" classname="roles.spec.ts" time="8.536">
</testcase>
</testsuite>
<testsuite name="auth-flow.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="18" failures="0" skipped="0" time="290.017" errors="0">
<testcase name="Fluxo de Autenticação › Login redirecion a para dashboard após autenticação" classname="auth-flow.spec.ts" time="10.882">
</testcase>
<testcase name="Fluxo de Autenticação › Usuário não autenticado é redirecionado para login" classname="auth-flow.spec.ts" time="19.015">
</testcase>
<testcase name="Fluxo de Autenticação › Roles são extraídas do token corretamente" classname="auth-flow.spec.ts" time="20.64">
</testcase>
<testcase name="Fluxo de Autenticação › Token expirado resulta em logout" classname="auth-flow.spec.ts" time="21.811">
</testcase>
<testcase name="Fluxo de Autenticação › Refresh token renova sessão" classname="auth-flow.spec.ts" time="20.523">
</testcase>
<testcase name="Session Management › Session persiste após reload" classname="auth-flow.spec.ts" time="17.333">
</testcase>
<testcase name="Session Management › Session persiste entre navegações" classname="auth-flow.spec.ts" time="14.367">
</testcase>
<testcase name="Session Management › Logout limpa session e redireciona" classname="auth-flow.spec.ts" time="18.059">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via localStorage" classname="auth-flow.spec.ts" time="11.154">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via query param" classname="auth-flow.spec.ts" time="24.135">
</testcase>
<testcase name="Role Switching (E2E Mode) › Role inválida = sem permissões" classname="auth-flow.spec.ts" time="10.496">
</testcase>
<testcase name="Protected Routes › /admin requer role ADMIN" classname="auth-flow.spec.ts" time="10.801">
</testcase>
<testcase name="Protected Routes › /dashboard permite qualquer role autenticada" classname="auth-flow.spec.ts" time="27.721">
</testcase>
<testcase name="Protected Routes › Rota pública (/denuncia) não requer autenticação" classname="auth-flow.spec.ts" time="12.816">
</testcase>
<testcase name="User Context › UserMenu mostra informações do usuário" classname="auth-flow.spec.ts" time="13.273">
</testcase>
<testcase name="User Context › RoleBadge mostra role atual" classname="auth-flow.spec.ts" time="12.481">
</testcase>
<testcase name="Security › Token não é exposto no localStorage" classname="auth-flow.spec.ts" time="13.096">
</testcase>
<testcase name="Security › Navegação protegida não vaza informações" classname="auth-flow.spec.ts" time="11.414">
</testcase>
</testsuite>
<testsuite name="auth.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="5" failures="5" skipped="0" time="120.455" errors="0">
<testcase name="Autenticação › deve exibir página de login ao acessar sem autenticação" classname="auth.spec.ts" time="15.851">
<failure message="auth.spec.ts:8:3 deve exibir página de login ao acessar sem autenticação" type="FAILURE">
<![CDATA[  [webkit] › auth.spec.ts:8:3 › Autenticação › deve exibir página de login ao acessar sem autenticação 

    Error: expect(page).toHaveURL(expected) failed

    Expected pattern: /login|auth|keycloak/i
    Received string:  "http://localhost:6090/"
    Timeout: 5000ms

    Call log:
      - Expect "toHaveURL" with timeout 5000ms
        7 × unexpected value "http://localhost:6090/"


      10 |     
      11 |     // Deve redirecionar para Keycloak ou mostrar botão de login
    > 12 |     await expect(page).toHaveURL(/login|auth|keycloak/i);
         |                        ^
      13 |   });
      14 |
      15 |   test('deve fazer login com credenciais válidas', async ({ page, context }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:12:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer login com credenciais válidas" classname="auth.spec.ts" time="19.854">
<failure message="auth.spec.ts:15:3 deve fazer login com credenciais válidas" type="FAILURE">
<![CDATA[  [webkit] › auth.spec.ts:15:3 › Autenticação › deve fazer login com credenciais válidas ───────────

    TimeoutError: page.waitForURL: Timeout 10000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      17 |     
      18 |     // Assumindo redirecionamento para Keycloak
    > 19 |     await page.waitForURL(/keycloak/i, { timeout: 10000 });
         |                ^
      20 |     
      21 |     // Preencher credenciais
      22 |     await page.fill('input[name="username"]', 'test@techdengue.mt.gov.br');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:19:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve rejeitar login com credenciais inválidas" classname="auth.spec.ts" time="32.834">
<failure message="auth.spec.ts:36:3 deve rejeitar login com credenciais inválidas" type="FAILURE">
<![CDATA[  [webkit] › auth.spec.ts:36:3 › Autenticação › deve rejeitar login com credenciais inválidas ──────

    Test timeout of 30000ms exceeded.

    Error: page.waitForURL: Test timeout of 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      36 |   test('deve rejeitar login com credenciais inválidas', async ({ page }) => {
      37 |     await page.goto('/');
    > 38 |     await page.waitForURL(/keycloak/i);
         |                ^
      39 |     
      40 |     await page.fill('input[name="username"]', 'invalid@test.com');
      41 |     await page.fill('input[name="password"]', 'wrongpass');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:38:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer logout corretamente" classname="auth.spec.ts" time="19.016">
<failure message="auth.spec.ts:48:3 deve fazer logout corretamente" type="FAILURE">
<![CDATA[  [webkit] › auth.spec.ts:48:3 › Autenticação › deve fazer logout corretamente ─────────────────────

    TimeoutError: page.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="user-menu"]')


      51 |     
      52 |     // Click no menu do usuário
    > 53 |     await page.click('[data-testid="user-menu"]');
         |                ^
      54 |     
      55 |     // Click em logout
      56 |     await page.click('[data-testid="logout-button"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:53:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-webkit\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-webkit\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve renovar token automaticamente" classname="auth.spec.ts" time="32.9">
<failure message="auth.spec.ts:62:3 deve renovar token automaticamente" type="FAILURE">
<![CDATA[  [webkit] › auth.spec.ts:62:3 › Autenticação › deve renovar token automaticamente ─────────────────

    Test timeout of 30000ms exceeded.

    Error: page.waitForTimeout: Test timeout of 30000ms exceeded.

      65 |     // Aguardar 5 minutos para testar silent renew
      66 |     // (em prod o token expira em 5min, silent renew ocorre automaticamente)
    > 67 |     await page.waitForTimeout(5 * 60 * 1000);
         |                ^
      68 |     
      69 |     // Fazer requisição que exige token
      70 |     await page.click('[data-testid="dashboard-link"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-webkit\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-webkit\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-webkit\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="collapse.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="2" failures="0" skipped="0" time="25.595" errors="0">
<testcase name="Collapse persistence › AppSidebar collapse persists across reload" classname="collapse.spec.ts" time="12.718">
</testcase>
<testcase name="Collapse persistence › Submenu collapse persists across reload" classname="collapse.spec.ts" time="12.877">
</testcase>
</testsuite>
<testsuite name="darkmode.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="1" failures="0" skipped="0" time="10.214" errors="0">
<testcase name="Dark mode navigation UI › toggles theme-dark on root and back" classname="darkmode.spec.ts" time="10.214">
</testcase>
</testsuite>
<testsuite name="dashboard.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="8" failures="8" skipped="0" time="120.385" errors="0">
<testcase name="Dashboard EPI › deve carregar KPIs corretamente" classname="dashboard.spec.ts" time="17.601">
<failure message="dashboard.spec.ts:13:3 deve carregar KPIs corretamente" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:13:3 › Dashboard EPI › deve carregar KPIs corretamente ──────────────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      13 |   test('deve carregar KPIs corretamente', async ({ page }) => {
      14 |     // Aguardar carregamento
    > 15 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
         |                ^
      16 |     
      17 |     // Verificar se pelo menos 4 KPIs foram carregados
      18 |     const kpiCards = page.locator('[data-testid="kpi-card"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:15:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve aplicar filtros e recarregar dados" classname="dashboard.spec.ts" time="17.423">
<failure message="dashboard.spec.ts:28:3 deve aplicar filtros e recarregar dados" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:28:3 › Dashboard EPI › deve aplicar filtros e recarregar dados ──────

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-ano"]')


      28 |   test('deve aplicar filtros e recarregar dados', async ({ page }) => {
      29 |     // Selecionar ano
    > 30 |     await page.selectOption('[data-testid="filter-ano"]', '2023');
         |                ^
      31 |     
      32 |     // Aguardar recarregamento (spinner ou loading state)
      33 |     await page.waitForLoadState('networkidle');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:30:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir gráfico de série temporal" classname="dashboard.spec.ts" time="16.733">
<failure message="dashboard.spec.ts:40:3 deve exibir gráfico de série temporal" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:40:3 › Dashboard EPI › deve exibir gráfico de série temporal ────────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('canvas') to be visible


      40 |   test('deve exibir gráfico de série temporal', async ({ page }) => {
      41 |     // Aguardar gráfico carregar
    > 42 |     await page.waitForSelector('canvas', { timeout: 10000 });
         |                ^
      43 |     
      44 |     // Verificar que canvas está visível
      45 |     const canvas = page.locator('canvas').first();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:42:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir ranking top 10 municípios" classname="dashboard.spec.ts" time="14.867">
<failure message="dashboard.spec.ts:55:3 deve exibir ranking top 10 municípios" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:55:3 › Dashboard EPI › deve exibir ranking top 10 municípios ────────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="top-n-chart"]') to be visible


      55 |   test('deve exibir ranking top 10 municípios', async ({ page }) => {
      56 |     // Aguardar tabela/gráfico de ranking
    > 57 |     await page.waitForSelector('[data-testid="top-n-chart"]', { timeout: 10000 });
         |                ^
      58 |     
      59 |     // Verificar se pelo menos 5 municípios aparecem
      60 |     const items = page.locator('[data-testid="ranking-item"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:57:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve alternar entre diferentes doenças" classname="dashboard.spec.ts" time="17.005">
<failure message="dashboard.spec.ts:65:3 deve alternar entre diferentes doenças" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:65:3 › Dashboard EPI › deve alternar entre diferentes doenças ───────

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-doenca"]')


      65 |   test('deve alternar entre diferentes doenças', async ({ page }) => {
      66 |     // Selecionar dengue
    > 67 |     await page.selectOption('[data-testid="filter-doenca"]', 'DENGUE');
         |                ^
      68 |     await page.waitForLoadState('networkidle');
      69 |     
      70 |     const kpiDengue = await page.locator('[data-testid="kpi-total-casos"]').textContent();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir variação percentual nos KPIs" classname="dashboard.spec.ts" time="5.157">
<failure message="dashboard.spec.ts:82:3 deve exibir variação percentual nos KPIs" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:82:3 › Dashboard EPI › deve exibir variação percentual nos KPIs ─────

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      84 |     const trendingIcons = page.locator('[data-testid="kpi-trend"]');
      85 |     const count = await trendingIcons.count();
    > 86 |     expect(count).toBeGreaterThan(0);
         |                   ^
      87 |   });
      88 |
      89 |   test('deve ser responsivo em mobile', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:86:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve ser responsivo em mobile" classname="dashboard.spec.ts" time="16.098">
<failure message="dashboard.spec.ts:89:3 deve ser responsivo em mobile" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:89:3 › Dashboard EPI › deve ser responsivo em mobile ────────────────

    TimeoutError: locator.boundingBox: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]').first()


       96 |     const secondCard = kpiCards.nth(1);
       97 |     
    >  98 |     const firstBox = await firstCard.boundingBox();
          |                                      ^
       99 |     const secondBox = await secondCard.boundingBox();
      100 |     
      101 |     // Segunda carta deve estar abaixo da primeira (não ao lado)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:98:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › performance: deve carregar em menos de 4 segundos" classname="dashboard.spec.ts" time="15.501">
<failure message="dashboard.spec.ts:105:3 performance: deve carregar em menos de 4 segundos" type="FAILURE">
<![CDATA[  [webkit] › dashboard.spec.ts:105:3 › Dashboard EPI › performance: deve carregar em menos de 4 segundos 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      107 |     
      108 |     await page.goto('/dashboard');
    > 109 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
          |                ^
      110 |     
      111 |     const loadTime = Date.now() - startTime;
      112 |     
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:109:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-webkit\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="mobile.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="3" failures="0" skipped="0" time="21.753" errors="0">
<testcase name="Mobile navigation › primary sidebar drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="8.991">
</testcase>
<testcase name="Mobile navigation › secondary submenu drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="6.525">
</testcase>
<testcase name="Mobile navigation › dark mode toggle works on mobile" classname="mobile.spec.ts" time="6.237">
</testcase>
</testsuite>
<testsuite name="navigation.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="6" failures="4" skipped="0" time="99.788" errors="0">
<testcase name="Navigation &amp; Menus › home renders layout and sidebar" classname="navigation.spec.ts" time="6.362">
</testcase>
<testcase name="Navigation &amp; Menus › module page shows functions and subtitles" classname="navigation.spec.ts" time="18.927">
<failure message="navigation.spec.ts:23:3 module page shows functions and subtitles" type="FAILURE">
<![CDATA[  [webkit] › navigation.spec.ts:23:3 › Navigation & Menus › module page shows functions and subtitles 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('.module-functions-panel')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('.module-functions-panel')


      32 |
      33 |     // Functions panel visible
    > 34 |     await expect(page.locator(functionsPanel)).toBeVisible()
         |                                                ^
      35 |     await expect(page.getByRole('heading', { name: 'Ferramentas' })).toBeVisible()
      36 |
      37 |     // Card shows name and subtitle (scoped to functions panel)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:34:48

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › functions collapse persists across reload" classname="navigation.spec.ts" time="21.262">
<failure message="navigation.spec.ts:43:3 functions collapse persists across reload" type="FAILURE">
<![CDATA[  [webkit] › navigation.spec.ts:43:3 › Navigation & Menus › functions collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header .collapse-btn')


      49 |     })
      50 |     const btn = page.locator(`${functionsPanel} .functions-header .collapse-btn`)
    > 51 |     await btn.click()
         |               ^
      52 |
      53 |     // html should have class functions-collapsed
      54 |     await expect(page.locator('html')).toHaveClass(/functions-collapsed/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:51:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › search filters tools by name/subtitle" classname="navigation.spec.ts" time="18.167">
<failure message="navigation.spec.ts:69:3 search filters tools by name/subtitle" type="FAILURE">
<![CDATA[  [webkit] › navigation.spec.ts:69:3 › Navigation & Menus › search filters tools by name/subtitle ──

    TimeoutError: locator.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header input[type="search"]')


      74 |     })
      75 |     const search = page.locator(`${functionsPanel} .functions-header input[type="search"]`)
    > 76 |     await search.fill('climático')
         |                  ^
      77 |     const riscoCard = page.locator(`${functionsPanel} a.function-card`, { hasText: 'Risco Climático' })
      78 |     await expect(riscoCard).toBeVisible()
      79 |     // an unrelated card should disappear from DOM after filtering
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:76:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › favorites pin/unpin persists" classname="navigation.spec.ts" time="22.398">
<failure message="navigation.spec.ts:84:3 favorites pin/unpin persists" type="FAILURE">
<![CDATA[  [webkit] › navigation.spec.ts:84:3 › Navigation & Menus › favorites pin/unpin persists ───────────

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByRole('link', { name: /Nowcasting \/ Rt/ }).locator('button.function-fav')


      93 |
      94 |     // pin
    > 95 |     await favBtn.click()
         |                  ^
      96 |     await expect(page.getByText('Favoritos')).toBeVisible()
      97 |
      98 |     // reload keeps favorite
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:95:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › app sidebar active link uses aria-current" classname="navigation.spec.ts" time="12.672">
</testcase>
</testsuite>
<testsuite name="permissions.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="20" failures="4" skipped="0" time="284.708" errors="0">
<testcase name="Permissões Granulares › ADMIN deve ter acesso completo" classname="permissions.spec.ts" time="19.443">
<failure message="permissions.spec.ts:16:3 ADMIN deve ter acesso completo" type="FAILURE">
<![CDATA[  [webkit] › permissions.spec.ts:16:3 › Permissões Granulares › ADMIN deve ter acesso completo ─────

    Error: expect(locator).toBeVisible() failed

    Locator: locator('a[href="/dashboard"]')
    Expected: visible
    Error: strict mode violation: locator('a[href="/dashboard"]') resolved to 2 elements:
        1) <a class="active" href="/dashboard" aria-current="page" title="Panorama Executivo">…</a> aka getByRole('link', { name: 'Panorama Executivo' })
        2) <a class="active" href="/dashboard" aria-current="page" title="Dashboard Consolidado">…</a> aka getByRole('link', { name: 'Dashboard Consolidado KPIs e' })

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('a[href="/dashboard"]')


      26 |     
      27 |     // Deve ter link para Dashboard Executivo
    > 28 |     await expect(page.locator('a[href="/dashboard"]')).toBeVisible()
         |                                                        ^
      29 |     
      30 |     // Deve ter link para Admin
      31 |     await expect(page.locator('a[href*="/admin"]')).toBeVisible()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:28:56

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › GESTOR tem permissões de visualização e relatórios" classname="permissions.spec.ts" time="18.266">
<failure message="permissions.spec.ts:34:3 GESTOR tem permissões de visualização e relatórios" type="FAILURE">
<![CDATA[  [webkit] › permissions.spec.ts:34:3 › Permissões Granulares › GESTOR tem permissões de visualização e relatórios 

    Error: expect(locator).toContainText(expected) failed

    Locator: locator('h1')
    Expected pattern: /Dashboard|Painel/
    Received string:  "TechDengue"
    Timeout: 5000ms

    Call log:
      - Expect "toContainText" with timeout 5000ms
      - waiting for locator('h1')
        7 × locator resolved to <h1 class="text-lg font-bold text-gray-900">TechDengue</h1>
          - unexpected value "TechDengue"


      38 |     
      39 |     // Gestor deve ver dashboard
    > 40 |     await expect(page.locator('h1')).toContainText(/Dashboard|Painel/)
         |                                      ^
      41 |     
      42 |     // Deve ter acesso ao mapa
      43 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:40:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › VIGILANCIA tem CRUD de vigilância" classname="permissions.spec.ts" time="15.848">
</testcase>
<testcase name="Permissões Granulares › CAMPO tem acesso limitado" classname="permissions.spec.ts" time="11.719">
</testcase>
<testcase name="Permissões Granulares › Múltiplas roles acumulam permissões" classname="permissions.spec.ts" time="9.288">
</testcase>
<testcase name="Permissões Granulares › Sem roles = sem acesso" classname="permissions.spec.ts" time="18.92">
</testcase>
<testcase name="Permissões Granulares › RoleBadge mostra roles corretas" classname="permissions.spec.ts" time="10.97">
</testcase>
<testcase name="Permissões Granulares › RestrictedFeature oculta conteúdo sem permissão" classname="permissions.spec.ts" time="11.167">
</testcase>
<testcase name="Permissões Granulares › AccessDeniedBanner aparece ao acessar rota sem permissão" classname="permissions.spec.ts" time="17.853">
</testcase>
<testcase name="Componentes de Permissão › PermissionGate oculta conteúdo sem permissão" classname="permissions.spec.ts" time="9.5">
</testcase>
<testcase name="Componentes de Permissão › Can component mostra/oculta baseado em permissão" classname="permissions.spec.ts" time="9.307">
</testcase>
<testcase name="Validação de Roles › Role inválida = tratada como sem permissão" classname="permissions.spec.ts" time="10.4">
</testcase>
<testcase name="Validação de Roles › LocalStorage e2e-roles tem precedência" classname="permissions.spec.ts" time="9.224">
</testcase>
<testcase name="Validação de Roles › Query param sobrescreve localStorage" classname="permissions.spec.ts" time="9.963">
</testcase>
<testcase name="Navegação por Permissão › Sidebar filtra itens por permissão" classname="permissions.spec.ts" time="23.041">
<failure message="permissions.spec.ts:203:3 Sidebar filtra itens por permissão" type="FAILURE">
<![CDATA[  [webkit] › permissions.spec.ts:203:3 › Navegação por Permissão › Sidebar filtra itens por permissão 

    Error: expect(locator).not.toBeVisible() failed

    Locator:  locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
    Expected: not visible
    Received: visible
    Timeout:  5000ms

    Call log:
      - Expect "not toBeVisible" with timeout 5000ms
      - waiting for locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
        7 × locator resolved to <a class="" title="Administração" href="/modulos/administracao">…</a>
          - unexpected value "visible"


      209 |     // CAMPO não deve ver link de Admin
      210 |     const adminLink = sidebar.locator('a[href*="/admin"]')
    > 211 |     await expect(adminLink).not.toBeVisible()
          |                                 ^
      212 |   })
      213 |
      214 |   test('ADMIN vê todos os itens do sidebar', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:211:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navegação por Permissão › ADMIN vê todos os itens do sidebar" classname="permissions.spec.ts" time="18.428">
</testcase>
<testcase name="Navegação por Permissão › CAMPO vê apenas links básicos" classname="permissions.spec.ts" time="10.682">
<failure message="permissions.spec.ts:229:3 CAMPO vê apenas links básicos" type="FAILURE">
<![CDATA[  [webkit] › permissions.spec.ts:229:3 › Navegação por Permissão › CAMPO vê apenas links básicos ───

    Error: expect(received).toBeLessThan(expected)

    Expected: < 5
    Received:   13

      239 |     
      240 |     // CAMPO tem acesso limitado
    > 241 |     expect(count).toBeLessThan(5)
          |                   ^
      242 |   })
      243 | })
      244 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:241:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance e Estabilidade › Verificação de permissões não causa lag" classname="permissions.spec.ts" time="9.337">
</testcase>
<testcase name="Performance e Estabilidade › Mudança de role atualiza permissões" classname="permissions.spec.ts" time="18.403">
</testcase>
<testcase name="Performance e Estabilidade › Permissões persistem entre navegações" classname="permissions.spec.ts" time="22.949">
</testcase>
</testsuite>
<testsuite name="roles-ui.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="27" failures="2" skipped="0" time="346.061" errors="0">
<testcase name="RoleBadge Component › Mostra badge de ADMIN com cor roxa" classname="roles-ui.spec.ts" time="11.395">
</testcase>
<testcase name="RoleBadge Component › Mostra badge de GESTOR com cor azul" classname="roles-ui.spec.ts" time="18.947">
</testcase>
<testcase name="RoleBadge Component › Modo compact mostra apenas role principal" classname="roles-ui.spec.ts" time="10.763">
</testcase>
<testcase name="RoleBadge Component › Badge tem ícone apropriado" classname="roles-ui.spec.ts" time="15.347">
</testcase>
<testcase name="RestrictedFeature Component › Oculta conteúdo quando falta role" classname="roles-ui.spec.ts" time="13.053">
</testcase>
<testcase name="RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado" classname="roles-ui.spec.ts" time="11.117">
</testcase>
<testcase name="RestrictedFeature Component › Tooltip mostra roles necessárias ao hover" classname="roles-ui.spec.ts" time="11.167">
</testcase>
<testcase name="RestrictedFeature Component › Mostra fallback customizado quando fornecido" classname="roles-ui.spec.ts" time="11.993">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner aparece ao acessar rota sem permissão" classname="roles-ui.spec.ts" time="10.537">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner mostra roles necessárias" classname="roles-ui.spec.ts" time="10.141">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner variante error tem cor vermelha" classname="roles-ui.spec.ts" time="9.58">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Voltar funciona" classname="roles-ui.spec.ts" time="13.352">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Ir para Home funciona" classname="roles-ui.spec.ts" time="10.199">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner pode ser fechado se tem onDismiss" classname="roles-ui.spec.ts" time="12.861">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo renderiza para role autorizada" classname="roles-ui.spec.ts" time="13.994">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo não renderiza para role não autorizada" classname="roles-ui.spec.ts" time="13.188">
</testcase>
<testcase name="PermissionGate Integration › Múltiplos PermissionGates funcionam simultaneamente" classname="roles-ui.spec.ts" time="10.451">
</testcase>
<testcase name="Visual Feedback › Elemento bloqueado tem opacity reduzida" classname="roles-ui.spec.ts" time="13.466">
</testcase>
<testcase name="Visual Feedback › Hover em elemento bloqueado mostra cursor not-allowed" classname="roles-ui.spec.ts" time="14.007">
</testcase>
<testcase name="Visual Feedback › Animação slideDown funciona em banner" classname="roles-ui.spec.ts" time="13.562">
</testcase>
<testcase name="Accessibility › RoleBadge tem tooltip acessível" classname="roles-ui.spec.ts" time="11.358">
</testcase>
<testcase name="Accessibility › AccessDeniedBanner tem role=&quot;alert&quot;" classname="roles-ui.spec.ts" time="10.777">
</testcase>
<testcase name="Accessibility › Botões têm labels descritivos" classname="roles-ui.spec.ts" time="14.026">
</testcase>
<testcase name="Dark Mode › RoleBadge adapta cores em dark mode" classname="roles-ui.spec.ts" time="14.944">
</testcase>
<testcase name="Dark Mode › AccessDeniedBanner adapta cores em dark mode" classname="roles-ui.spec.ts" time="13.073">
</testcase>
<testcase name="Performance › Renderização de múltiplos RestrictedFeatures é rápida" classname="roles-ui.spec.ts" time="14.383">
<failure message="roles-ui.spec.ts:344:3 Renderização de múltiplos RestrictedFeatures é rápida" type="FAILURE">
<![CDATA[  [webkit] › roles-ui.spec.ts:344:3 › Performance › Renderização de múltiplos RestrictedFeatures é rápida 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 2000
    Received:   2473

      350 |     
      351 |     // Dashboard deve carregar em < 2 segundos
    > 352 |     expect(loadTime).toBeLessThan(2000)
          |                      ^
      353 |   })
      354 |
      355 |   test('Troca de role re-renderiza componentes rapidamente', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:352:22

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\video.webm]]

[[ATTACHMENT|roles-ui-Performance-Rende-4e944-RestrictedFeatures-é-rápida-webkit\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance › Troca de role re-renderiza componentes rapidamente" classname="roles-ui.spec.ts" time="18.38">
<failure message="roles-ui.spec.ts:355:3 Troca de role re-renderiza componentes rapidamente" type="FAILURE">
<![CDATA[  [webkit] › roles-ui.spec.ts:355:3 › Performance › Troca de role re-renderiza componentes rapidamente 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 1500
    Received:   4811

      364 |     
      365 |     // Troca deve ser rápida
    > 366 |     expect(switchTime).toBeLessThan(1500)
          |                        ^
      367 |   })
      368 | })
      369 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:366:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\video.webm]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-webkit\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="roles.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="webkit" tests="4" failures="0" skipped="0" time="54.72" errors="0">
<testcase name="Role-based navigation visibility › ADMIN role shows admin-only modules and hides vigilancia/campo" classname="roles.spec.ts" time="14.835">
</testcase>
<testcase name="Role-based navigation visibility › GESTOR role shows gestão/vigilância/campo and hides admin-only" classname="roles.spec.ts" time="14.532">
</testcase>
<testcase name="Role-based navigation visibility › VIGILANCIA role shows vigilancia and hides admin/etl/observability/campo" classname="roles.spec.ts" time="13.519">
</testcase>
<testcase name="Role-based navigation visibility › CAMPO role shows only operacional and hides admin/dados/vigilância" classname="roles.spec.ts" time="11.834">
</testcase>
</testsuite>
<testsuite name="auth-flow.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="18" failures="0" skipped="0" time="82.602" errors="0">
<testcase name="Fluxo de Autenticação › Login redirecion a para dashboard após autenticação" classname="auth-flow.spec.ts" time="3.2">
</testcase>
<testcase name="Fluxo de Autenticação › Usuário não autenticado é redirecionado para login" classname="auth-flow.spec.ts" time="3.507">
</testcase>
<testcase name="Fluxo de Autenticação › Roles são extraídas do token corretamente" classname="auth-flow.spec.ts" time="9.299">
</testcase>
<testcase name="Fluxo de Autenticação › Token expirado resulta em logout" classname="auth-flow.spec.ts" time="4.42">
</testcase>
<testcase name="Fluxo de Autenticação › Refresh token renova sessão" classname="auth-flow.spec.ts" time="7.128">
</testcase>
<testcase name="Session Management › Session persiste após reload" classname="auth-flow.spec.ts" time="2.406">
</testcase>
<testcase name="Session Management › Session persiste entre navegações" classname="auth-flow.spec.ts" time="5.442">
</testcase>
<testcase name="Session Management › Logout limpa session e redireciona" classname="auth-flow.spec.ts" time="5.898">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via localStorage" classname="auth-flow.spec.ts" time="4.08">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via query param" classname="auth-flow.spec.ts" time="5.359">
</testcase>
<testcase name="Role Switching (E2E Mode) › Role inválida = sem permissões" classname="auth-flow.spec.ts" time="3.562">
</testcase>
<testcase name="Protected Routes › /admin requer role ADMIN" classname="auth-flow.spec.ts" time="2.443">
</testcase>
<testcase name="Protected Routes › /dashboard permite qualquer role autenticada" classname="auth-flow.spec.ts" time="6.657">
</testcase>
<testcase name="Protected Routes › Rota pública (/denuncia) não requer autenticação" classname="auth-flow.spec.ts" time="4.339">
</testcase>
<testcase name="User Context › UserMenu mostra informações do usuário" classname="auth-flow.spec.ts" time="3.273">
</testcase>
<testcase name="User Context › RoleBadge mostra role atual" classname="auth-flow.spec.ts" time="2.714">
</testcase>
<testcase name="Security › Token não é exposto no localStorage" classname="auth-flow.spec.ts" time="4.648">
</testcase>
<testcase name="Security › Navegação protegida não vaza informações" classname="auth-flow.spec.ts" time="4.227">
</testcase>
</testsuite>
<testsuite name="auth.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="5" failures="5" skipped="0" time="115.006" errors="0">
<testcase name="Autenticação › deve exibir página de login ao acessar sem autenticação" classname="auth.spec.ts" time="9.24">
<failure message="auth.spec.ts:8:3 deve exibir página de login ao acessar sem autenticação" type="FAILURE">
<![CDATA[  [mobile-chrome] › auth.spec.ts:8:3 › Autenticação › deve exibir página de login ao acessar sem autenticação 

    Error: expect(page).toHaveURL(expected) failed

    Expected pattern: /login|auth|keycloak/i
    Received string:  "http://localhost:6090/"
    Timeout: 5000ms

    Call log:
      - Expect "toHaveURL" with timeout 5000ms
        8 × unexpected value "http://localhost:6090/"


      10 |     
      11 |     // Deve redirecionar para Keycloak ou mostrar botão de login
    > 12 |     await expect(page).toHaveURL(/login|auth|keycloak/i);
         |                        ^
      13 |   });
      14 |
      15 |   test('deve fazer login com credenciais válidas', async ({ page, context }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:12:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer login com credenciais válidas" classname="auth.spec.ts" time="17.261">
<failure message="auth.spec.ts:15:3 deve fazer login com credenciais válidas" type="FAILURE">
<![CDATA[  [mobile-chrome] › auth.spec.ts:15:3 › Autenticação › deve fazer login com credenciais válidas ────

    TimeoutError: page.waitForURL: Timeout 10000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      17 |     
      18 |     // Assumindo redirecionamento para Keycloak
    > 19 |     await page.waitForURL(/keycloak/i, { timeout: 10000 });
         |                ^
      20 |     
      21 |     // Preencher credenciais
      22 |     await page.fill('input[name="username"]', 'test@techdengue.mt.gov.br');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:19:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve rejeitar login com credenciais inválidas" classname="auth.spec.ts" time="36.995">
<failure message="auth.spec.ts:36:3 deve rejeitar login com credenciais inválidas" type="FAILURE">
<![CDATA[  [mobile-chrome] › auth.spec.ts:36:3 › Autenticação › deve rejeitar login com credenciais inválidas 

    Test timeout of 30000ms exceeded.

    Error: page.waitForURL: Test timeout of 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      36 |   test('deve rejeitar login com credenciais inválidas', async ({ page }) => {
      37 |     await page.goto('/');
    > 38 |     await page.waitForURL(/keycloak/i);
         |                ^
      39 |     
      40 |     await page.fill('input[name="username"]', 'invalid@test.com');
      41 |     await page.fill('input[name="password"]', 'wrongpass');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:38:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer logout corretamente" classname="auth.spec.ts" time="15.407">
<failure message="auth.spec.ts:48:3 deve fazer logout corretamente" type="FAILURE">
<![CDATA[  [mobile-chrome] › auth.spec.ts:48:3 › Autenticação › deve fazer logout corretamente ──────────────

    TimeoutError: page.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="user-menu"]')


      51 |     
      52 |     // Click no menu do usuário
    > 53 |     await page.click('[data-testid="user-menu"]');
         |                ^
      54 |     
      55 |     // Click em logout
      56 |     await page.click('[data-testid="logout-button"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:53:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve renovar token automaticamente" classname="auth.spec.ts" time="36.103">
<failure message="auth.spec.ts:62:3 deve renovar token automaticamente" type="FAILURE">
<![CDATA[  [mobile-chrome] › auth.spec.ts:62:3 › Autenticação › deve renovar token automaticamente ──────────

    Test timeout of 30000ms exceeded.

    Error: page.waitForTimeout: Test timeout of 30000ms exceeded.

      65 |     // Aguardar 5 minutos para testar silent renew
      66 |     // (em prod o token expira em 5min, silent renew ocorre automaticamente)
    > 67 |     await page.waitForTimeout(5 * 60 * 1000);
         |                ^
      68 |     
      69 |     // Fazer requisição que exige token
      70 |     await page.click('[data-testid="dashboard-link"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="collapse.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="2" failures="2" skipped="0" time="22.949" errors="0">
<testcase name="Collapse persistence › AppSidebar collapse persists across reload" classname="collapse.spec.ts" time="13.853">
<failure message="collapse.spec.ts:20:3 AppSidebar collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-chrome] › collapse.spec.ts:20:3 › Collapse persistence › AppSidebar collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('#app-sidebar .collapse-btn')
        - locator resolved to <button class="collapse-btn" aria-expanded="true" title="Recolher menu" aria-label="Recolher menu principal">…</button>
      - attempting click action
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - element is outside of the viewport
        - retrying click action
        - waiting 20ms
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - element is outside of the viewport
        - retrying click action
          - waiting 100ms
        18 × waiting for element to be visible, enabled and stable
           - element is visible, enabled and stable
           - scrolling into view if needed
           - done scrolling
           - element is outside of the viewport
         - retrying click action
           - waiting 500ms


      24 |     const btn = page.locator('#app-sidebar .collapse-btn')
      25 |     await expect(btn).toBeVisible()
    > 26 |     await btn.click()
         |               ^
      27 |
      28 |     await expect.poll(async () => page.evaluate(() => document.documentElement.classList.contains('sidebar-collapsed'))).toBeTruthy()
      29 |     await expect.poll(async () => page.evaluate(() => localStorage.getItem('sidebar-collapsed'))).toBe('1')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:26:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\video.webm]]

[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Collapse persistence › Submenu collapse persists across reload" classname="collapse.spec.ts" time="9.096">
<failure message="collapse.spec.ts:36:3 Submenu collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-chrome] › collapse.spec.ts:36:3 › Collapse persistence › Submenu collapse persists across reload 

    Error: expect(locator).toBeVisible() failed

    Locator:  locator('#app-submenu .collapse-btn')
    Expected: visible
    Received: hidden
    Timeout:  5000ms

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('#app-submenu .collapse-btn')
        8 × locator resolved to <button title="Recolher" class="collapse-btn" aria-expanded="true" aria-label="Recolher submenu">…</button>
          - unexpected value "hidden"


      39 |
      40 |     const btn = page.locator('#app-submenu .collapse-btn')
    > 41 |     await expect(btn).toBeVisible()
         |                       ^
      42 |     await btn.click()
      43 |
      44 |     await expect.poll(async () => page.evaluate(() => document.documentElement.classList.contains('subnav-collapsed'))).toBeTruthy()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:41:23

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\video.webm]]

[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="darkmode.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="1" failures="0" skipped="0" time="3.346" errors="0">
<testcase name="Dark mode navigation UI › toggles theme-dark on root and back" classname="darkmode.spec.ts" time="3.346">
</testcase>
</testsuite>
<testsuite name="dashboard.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="8" failures="8" skipped="0" time="87.241" errors="0">
<testcase name="Dashboard EPI › deve carregar KPIs corretamente" classname="dashboard.spec.ts" time="13.136">
<failure message="dashboard.spec.ts:13:3 deve carregar KPIs corretamente" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:13:3 › Dashboard EPI › deve carregar KPIs corretamente ───────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      13 |   test('deve carregar KPIs corretamente', async ({ page }) => {
      14 |     // Aguardar carregamento
    > 15 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
         |                ^
      16 |     
      17 |     // Verificar se pelo menos 4 KPIs foram carregados
      18 |     const kpiCards = page.locator('[data-testid="kpi-card"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:15:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve aplicar filtros e recarregar dados" classname="dashboard.spec.ts" time="11.374">
<failure message="dashboard.spec.ts:28:3 deve aplicar filtros e recarregar dados" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:28:3 › Dashboard EPI › deve aplicar filtros e recarregar dados 

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-ano"]')


      28 |   test('deve aplicar filtros e recarregar dados', async ({ page }) => {
      29 |     // Selecionar ano
    > 30 |     await page.selectOption('[data-testid="filter-ano"]', '2023');
         |                ^
      31 |     
      32 |     // Aguardar recarregamento (spinner ou loading state)
      33 |     await page.waitForLoadState('networkidle');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:30:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir gráfico de série temporal" classname="dashboard.spec.ts" time="11.501">
<failure message="dashboard.spec.ts:40:3 deve exibir gráfico de série temporal" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:40:3 › Dashboard EPI › deve exibir gráfico de série temporal ─

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('canvas') to be visible


      40 |   test('deve exibir gráfico de série temporal', async ({ page }) => {
      41 |     // Aguardar gráfico carregar
    > 42 |     await page.waitForSelector('canvas', { timeout: 10000 });
         |                ^
      43 |     
      44 |     // Verificar que canvas está visível
      45 |     const canvas = page.locator('canvas').first();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:42:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir ranking top 10 municípios" classname="dashboard.spec.ts" time="11.373">
<failure message="dashboard.spec.ts:55:3 deve exibir ranking top 10 municípios" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:55:3 › Dashboard EPI › deve exibir ranking top 10 municípios ─

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="top-n-chart"]') to be visible


      55 |   test('deve exibir ranking top 10 municípios', async ({ page }) => {
      56 |     // Aguardar tabela/gráfico de ranking
    > 57 |     await page.waitForSelector('[data-testid="top-n-chart"]', { timeout: 10000 });
         |                ^
      58 |     
      59 |     // Verificar se pelo menos 5 municípios aparecem
      60 |     const items = page.locator('[data-testid="ranking-item"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:57:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve alternar entre diferentes doenças" classname="dashboard.spec.ts" time="13.812">
<failure message="dashboard.spec.ts:65:3 deve alternar entre diferentes doenças" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:65:3 › Dashboard EPI › deve alternar entre diferentes doenças 

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-doenca"]')


      65 |   test('deve alternar entre diferentes doenças', async ({ page }) => {
      66 |     // Selecionar dengue
    > 67 |     await page.selectOption('[data-testid="filter-doenca"]', 'DENGUE');
         |                ^
      68 |     await page.waitForLoadState('networkidle');
      69 |     
      70 |     const kpiDengue = await page.locator('[data-testid="kpi-total-casos"]').textContent();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir variação percentual nos KPIs" classname="dashboard.spec.ts" time="1.742">
<failure message="dashboard.spec.ts:82:3 deve exibir variação percentual nos KPIs" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:82:3 › Dashboard EPI › deve exibir variação percentual nos KPIs 

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      84 |     const trendingIcons = page.locator('[data-testid="kpi-trend"]');
      85 |     const count = await trendingIcons.count();
    > 86 |     expect(count).toBeGreaterThan(0);
         |                   ^
      87 |   });
      88 |
      89 |   test('deve ser responsivo em mobile', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:86:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve ser responsivo em mobile" classname="dashboard.spec.ts" time="11.792">
<failure message="dashboard.spec.ts:89:3 deve ser responsivo em mobile" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:89:3 › Dashboard EPI › deve ser responsivo em mobile ─────────

    TimeoutError: locator.boundingBox: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]').first()


       96 |     const secondCard = kpiCards.nth(1);
       97 |     
    >  98 |     const firstBox = await firstCard.boundingBox();
          |                                      ^
       99 |     const secondBox = await secondCard.boundingBox();
      100 |     
      101 |     // Segunda carta deve estar abaixo da primeira (não ao lado)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:98:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › performance: deve carregar em menos de 4 segundos" classname="dashboard.spec.ts" time="12.511">
<failure message="dashboard.spec.ts:105:3 performance: deve carregar em menos de 4 segundos" type="FAILURE">
<![CDATA[  [mobile-chrome] › dashboard.spec.ts:105:3 › Dashboard EPI › performance: deve carregar em menos de 4 segundos 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      107 |     
      108 |     await page.goto('/dashboard');
    > 109 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
          |                ^
      110 |     
      111 |     const loadTime = Date.now() - startTime;
      112 |     
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:109:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="mobile.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="3" failures="0" skipped="0" time="13.939" errors="0">
<testcase name="Mobile navigation › primary sidebar drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="5.526">
</testcase>
<testcase name="Mobile navigation › secondary submenu drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="4.485">
</testcase>
<testcase name="Mobile navigation › dark mode toggle works on mobile" classname="mobile.spec.ts" time="3.928">
</testcase>
</testsuite>
<testsuite name="navigation.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="6" failures="4" skipped="0" time="63.191" errors="0">
<testcase name="Navigation &amp; Menus › home renders layout and sidebar" classname="navigation.spec.ts" time="2.559">
</testcase>
<testcase name="Navigation &amp; Menus › module page shows functions and subtitles" classname="navigation.spec.ts" time="9.645">
<failure message="navigation.spec.ts:23:3 module page shows functions and subtitles" type="FAILURE">
<![CDATA[  [mobile-chrome] › navigation.spec.ts:23:3 › Navigation & Menus › module page shows functions and subtitles 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('.module-functions-panel')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('.module-functions-panel')


      32 |
      33 |     // Functions panel visible
    > 34 |     await expect(page.locator(functionsPanel)).toBeVisible()
         |                                                ^
      35 |     await expect(page.getByRole('heading', { name: 'Ferramentas' })).toBeVisible()
      36 |
      37 |     // Card shows name and subtitle (scoped to functions panel)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:34:48

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › functions collapse persists across reload" classname="navigation.spec.ts" time="16.128">
<failure message="navigation.spec.ts:43:3 functions collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-chrome] › navigation.spec.ts:43:3 › Navigation & Menus › functions collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header .collapse-btn')


      49 |     })
      50 |     const btn = page.locator(`${functionsPanel} .functions-header .collapse-btn`)
    > 51 |     await btn.click()
         |               ^
      52 |
      53 |     // html should have class functions-collapsed
      54 |     await expect(page.locator('html')).toHaveClass(/functions-collapsed/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:51:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › search filters tools by name/subtitle" classname="navigation.spec.ts" time="15.041">
<failure message="navigation.spec.ts:69:3 search filters tools by name/subtitle" type="FAILURE">
<![CDATA[  [mobile-chrome] › navigation.spec.ts:69:3 › Navigation & Menus › search filters tools by name/subtitle 

    TimeoutError: locator.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header input[type="search"]')


      74 |     })
      75 |     const search = page.locator(`${functionsPanel} .functions-header input[type="search"]`)
    > 76 |     await search.fill('climático')
         |                  ^
      77 |     const riscoCard = page.locator(`${functionsPanel} a.function-card`, { hasText: 'Risco Climático' })
      78 |     await expect(riscoCard).toBeVisible()
      79 |     // an unrelated card should disappear from DOM after filtering
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:76:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › favorites pin/unpin persists" classname="navigation.spec.ts" time="17.932">
<failure message="navigation.spec.ts:84:3 favorites pin/unpin persists" type="FAILURE">
<![CDATA[  [mobile-chrome] › navigation.spec.ts:84:3 › Navigation & Menus › favorites pin/unpin persists ────

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByRole('link', { name: /Nowcasting \/ Rt/ }).locator('button.function-fav')


      93 |
      94 |     // pin
    > 95 |     await favBtn.click()
         |                  ^
      96 |     await expect(page.getByText('Favoritos')).toBeVisible()
      97 |
      98 |     // reload keeps favorite
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:95:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › app sidebar active link uses aria-current" classname="navigation.spec.ts" time="1.886">
</testcase>
</testsuite>
<testsuite name="permissions.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="20" failures="4" skipped="0" time="110.19" errors="0">
<testcase name="Permissões Granulares › ADMIN deve ter acesso completo" classname="permissions.spec.ts" time="4.202">
<failure message="permissions.spec.ts:16:3 ADMIN deve ter acesso completo" type="FAILURE">
<![CDATA[  [mobile-chrome] › permissions.spec.ts:16:3 › Permissões Granulares › ADMIN deve ter acesso completo 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('a[href="/dashboard"]')
    Expected: visible
    Error: strict mode violation: locator('a[href="/dashboard"]') resolved to 2 elements:
        1) <a class="active" href="/dashboard" aria-current="page" title="Panorama Executivo">…</a> aka getByRole('link', { name: 'Panorama Executivo' })
        2) <a class="active" href="/dashboard" aria-current="page" title="Dashboard Consolidado">…</a> aka getByText('Dashboard ConsolidadoKPIs e visão geralIndicadores')

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('a[href="/dashboard"]')


      26 |     
      27 |     // Deve ter link para Dashboard Executivo
    > 28 |     await expect(page.locator('a[href="/dashboard"]')).toBeVisible()
         |                                                        ^
      29 |     
      30 |     // Deve ter link para Admin
      31 |     await expect(page.locator('a[href*="/admin"]')).toBeVisible()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:28:56

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › GESTOR tem permissões de visualização e relatórios" classname="permissions.spec.ts" time="9.42">
<failure message="permissions.spec.ts:34:3 GESTOR tem permissões de visualização e relatórios" type="FAILURE">
<![CDATA[  [mobile-chrome] › permissions.spec.ts:34:3 › Permissões Granulares › GESTOR tem permissões de visualização e relatórios 

    Error: expect(locator).toContainText(expected) failed

    Locator: locator('h1')
    Expected pattern: /Dashboard|Painel/
    Received string:  "TechDengue"
    Timeout: 5000ms

    Call log:
      - Expect "toContainText" with timeout 5000ms
      - waiting for locator('h1')
        8 × locator resolved to <h1 class="text-lg font-bold text-gray-900">TechDengue</h1>
          - unexpected value "TechDengue"


      38 |     
      39 |     // Gestor deve ver dashboard
    > 40 |     await expect(page.locator('h1')).toContainText(/Dashboard|Painel/)
         |                                      ^
      41 |     
      42 |     // Deve ter acesso ao mapa
      43 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:40:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › VIGILANCIA tem CRUD de vigilância" classname="permissions.spec.ts" time="2.797">
</testcase>
<testcase name="Permissões Granulares › CAMPO tem acesso limitado" classname="permissions.spec.ts" time="3.74">
</testcase>
<testcase name="Permissões Granulares › Múltiplas roles acumulam permissões" classname="permissions.spec.ts" time="3.382">
</testcase>
<testcase name="Permissões Granulares › Sem roles = sem acesso" classname="permissions.spec.ts" time="8.152">
</testcase>
<testcase name="Permissões Granulares › RoleBadge mostra roles corretas" classname="permissions.spec.ts" time="6.37">
</testcase>
<testcase name="Permissões Granulares › RestrictedFeature oculta conteúdo sem permissão" classname="permissions.spec.ts" time="4.196">
</testcase>
<testcase name="Permissões Granulares › AccessDeniedBanner aparece ao acessar rota sem permissão" classname="permissions.spec.ts" time="2.797">
</testcase>
<testcase name="Componentes de Permissão › PermissionGate oculta conteúdo sem permissão" classname="permissions.spec.ts" time="6.486">
</testcase>
<testcase name="Componentes de Permissão › Can component mostra/oculta baseado em permissão" classname="permissions.spec.ts" time="5.045">
</testcase>
<testcase name="Validação de Roles › Role inválida = tratada como sem permissão" classname="permissions.spec.ts" time="1.873">
</testcase>
<testcase name="Validação de Roles › LocalStorage e2e-roles tem precedência" classname="permissions.spec.ts" time="7.698">
</testcase>
<testcase name="Validação de Roles › Query param sobrescreve localStorage" classname="permissions.spec.ts" time="10.12">
</testcase>
<testcase name="Navegação por Permissão › Sidebar filtra itens por permissão" classname="permissions.spec.ts" time="7.286">
<failure message="permissions.spec.ts:203:3 Sidebar filtra itens por permissão" type="FAILURE">
<![CDATA[  [mobile-chrome] › permissions.spec.ts:203:3 › Navegação por Permissão › Sidebar filtra itens por permissão 

    Error: expect(locator).not.toBeVisible() failed

    Locator:  locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
    Expected: not visible
    Received: visible
    Timeout:  5000ms

    Call log:
      - Expect "not toBeVisible" with timeout 5000ms
      - waiting for locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
        8 × locator resolved to <a class="" title="Administração" href="/modulos/administracao">…</a>
          - unexpected value "visible"


      209 |     // CAMPO não deve ver link de Admin
      210 |     const adminLink = sidebar.locator('a[href*="/admin"]')
    > 211 |     await expect(adminLink).not.toBeVisible()
          |                                 ^
      212 |   })
      213 |
      214 |   test('ADMIN vê todos os itens do sidebar', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:211:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navegação por Permissão › ADMIN vê todos os itens do sidebar" classname="permissions.spec.ts" time="2.623">
</testcase>
<testcase name="Navegação por Permissão › CAMPO vê apenas links básicos" classname="permissions.spec.ts" time="6.918">
<failure message="permissions.spec.ts:229:3 CAMPO vê apenas links básicos" type="FAILURE">
<![CDATA[  [mobile-chrome] › permissions.spec.ts:229:3 › Navegação por Permissão › CAMPO vê apenas links básicos 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 5
    Received:   13

      239 |     
      240 |     // CAMPO tem acesso limitado
    > 241 |     expect(count).toBeLessThan(5)
          |                   ^
      242 |   })
      243 | })
      244 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:241:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance e Estabilidade › Verificação de permissões não causa lag" classname="permissions.spec.ts" time="5.397">
</testcase>
<testcase name="Performance e Estabilidade › Mudança de role atualiza permissões" classname="permissions.spec.ts" time="4.962">
</testcase>
<testcase name="Performance e Estabilidade › Permissões persistem entre navegações" classname="permissions.spec.ts" time="6.726">
</testcase>
</testsuite>
<testsuite name="roles-ui.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="27" failures="1" skipped="0" time="158.303" errors="0">
<testcase name="RoleBadge Component › Mostra badge de ADMIN com cor roxa" classname="roles-ui.spec.ts" time="4.373">
</testcase>
<testcase name="RoleBadge Component › Mostra badge de GESTOR com cor azul" classname="roles-ui.spec.ts" time="3.506">
</testcase>
<testcase name="RoleBadge Component › Modo compact mostra apenas role principal" classname="roles-ui.spec.ts" time="6.722">
</testcase>
<testcase name="RoleBadge Component › Badge tem ícone apropriado" classname="roles-ui.spec.ts" time="6.521">
</testcase>
<testcase name="RestrictedFeature Component › Oculta conteúdo quando falta role" classname="roles-ui.spec.ts" time="6.652">
</testcase>
<testcase name="RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado" classname="roles-ui.spec.ts" time="5.072">
</testcase>
<testcase name="RestrictedFeature Component › Tooltip mostra roles necessárias ao hover" classname="roles-ui.spec.ts" time="4.639">
</testcase>
<testcase name="RestrictedFeature Component › Mostra fallback customizado quando fornecido" classname="roles-ui.spec.ts" time="7.039">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner aparece ao acessar rota sem permissão" classname="roles-ui.spec.ts" time="7.413">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner mostra roles necessárias" classname="roles-ui.spec.ts" time="5.714">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner variante error tem cor vermelha" classname="roles-ui.spec.ts" time="5.86">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Voltar funciona" classname="roles-ui.spec.ts" time="7.134">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Ir para Home funciona" classname="roles-ui.spec.ts" time="5.882">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner pode ser fechado se tem onDismiss" classname="roles-ui.spec.ts" time="5.774">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo renderiza para role autorizada" classname="roles-ui.spec.ts" time="4.693">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo não renderiza para role não autorizada" classname="roles-ui.spec.ts" time="5.982">
</testcase>
<testcase name="PermissionGate Integration › Múltiplos PermissionGates funcionam simultaneamente" classname="roles-ui.spec.ts" time="5.135">
</testcase>
<testcase name="Visual Feedback › Elemento bloqueado tem opacity reduzida" classname="roles-ui.spec.ts" time="5.691">
</testcase>
<testcase name="Visual Feedback › Hover em elemento bloqueado mostra cursor not-allowed" classname="roles-ui.spec.ts" time="5.419">
</testcase>
<testcase name="Visual Feedback › Animação slideDown funciona em banner" classname="roles-ui.spec.ts" time="5.196">
</testcase>
<testcase name="Accessibility › RoleBadge tem tooltip acessível" classname="roles-ui.spec.ts" time="6.696">
</testcase>
<testcase name="Accessibility › AccessDeniedBanner tem role=&quot;alert&quot;" classname="roles-ui.spec.ts" time="7.321">
</testcase>
<testcase name="Accessibility › Botões têm labels descritivos" classname="roles-ui.spec.ts" time="8.162">
<failure message="roles-ui.spec.ts:289:3 Botões têm labels descritivos" type="FAILURE">
<![CDATA[  [mobile-chrome] › roles-ui.spec.ts:289:3 › Accessibility › Botões têm labels descritivos ─────────

    Error: expect(received).toBeTruthy()

    Received: null

      300 |       const ariaLabel = await button.getAttribute('aria-label')
      301 |       
    > 302 |       expect(text || ariaLabel).toBeTruthy()
          |                                 ^
      303 |     }
      304 |   })
      305 | })
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:302:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\video.webm]]

[[ATTACHMENT|roles-ui-Accessibility-Botões-têm-labels-descritivos-mobile-chrome\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dark Mode › RoleBadge adapta cores em dark mode" classname="roles-ui.spec.ts" time="6.806">
</testcase>
<testcase name="Dark Mode › AccessDeniedBanner adapta cores em dark mode" classname="roles-ui.spec.ts" time="4.885">
</testcase>
<testcase name="Performance › Renderização de múltiplos RestrictedFeatures é rápida" classname="roles-ui.spec.ts" time="3.08">
</testcase>
<testcase name="Performance › Troca de role re-renderiza componentes rapidamente" classname="roles-ui.spec.ts" time="6.936">
</testcase>
</testsuite>
<testsuite name="roles.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-chrome" tests="4" failures="0" skipped="0" time="18.646" errors="0">
<testcase name="Role-based navigation visibility › ADMIN role shows admin-only modules and hides vigilancia/campo" classname="roles.spec.ts" time="4.863">
</testcase>
<testcase name="Role-based navigation visibility › GESTOR role shows gestão/vigilância/campo and hides admin-only" classname="roles.spec.ts" time="4.918">
</testcase>
<testcase name="Role-based navigation visibility › VIGILANCIA role shows vigilancia and hides admin/etl/observability/campo" classname="roles.spec.ts" time="3.936">
</testcase>
<testcase name="Role-based navigation visibility › CAMPO role shows only operacional and hides admin/dados/vigilância" classname="roles.spec.ts" time="4.929">
</testcase>
</testsuite>
<testsuite name="auth-flow.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="18" failures="0" skipped="0" time="216.451" errors="0">
<testcase name="Fluxo de Autenticação › Login redirecion a para dashboard após autenticação" classname="auth-flow.spec.ts" time="12.006">
</testcase>
<testcase name="Fluxo de Autenticação › Usuário não autenticado é redirecionado para login" classname="auth-flow.spec.ts" time="11.481">
</testcase>
<testcase name="Fluxo de Autenticação › Roles são extraídas do token corretamente" classname="auth-flow.spec.ts" time="13.673">
</testcase>
<testcase name="Fluxo de Autenticação › Token expirado resulta em logout" classname="auth-flow.spec.ts" time="10.39">
</testcase>
<testcase name="Fluxo de Autenticação › Refresh token renova sessão" classname="auth-flow.spec.ts" time="9.808">
</testcase>
<testcase name="Session Management › Session persiste após reload" classname="auth-flow.spec.ts" time="13.702">
</testcase>
<testcase name="Session Management › Session persiste entre navegações" classname="auth-flow.spec.ts" time="15.69">
</testcase>
<testcase name="Session Management › Logout limpa session e redireciona" classname="auth-flow.spec.ts" time="11.334">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via localStorage" classname="auth-flow.spec.ts" time="13.072">
</testcase>
<testcase name="Role Switching (E2E Mode) › Trocar de role via query param" classname="auth-flow.spec.ts" time="15.572">
</testcase>
<testcase name="Role Switching (E2E Mode) › Role inválida = sem permissões" classname="auth-flow.spec.ts" time="11.301">
</testcase>
<testcase name="Protected Routes › /admin requer role ADMIN" classname="auth-flow.spec.ts" time="8.635">
</testcase>
<testcase name="Protected Routes › /dashboard permite qualquer role autenticada" classname="auth-flow.spec.ts" time="19.628">
</testcase>
<testcase name="Protected Routes › Rota pública (/denuncia) não requer autenticação" classname="auth-flow.spec.ts" time="10.185">
</testcase>
<testcase name="User Context › UserMenu mostra informações do usuário" classname="auth-flow.spec.ts" time="9.689">
</testcase>
<testcase name="User Context › RoleBadge mostra role atual" classname="auth-flow.spec.ts" time="9.698">
</testcase>
<testcase name="Security › Token não é exposto no localStorage" classname="auth-flow.spec.ts" time="10.641">
</testcase>
<testcase name="Security › Navegação protegida não vaza informações" classname="auth-flow.spec.ts" time="9.946">
</testcase>
</testsuite>
<testsuite name="auth.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="5" failures="5" skipped="0" time="108.948" errors="0">
<testcase name="Autenticação › deve exibir página de login ao acessar sem autenticação" classname="auth.spec.ts" time="12.768">
<failure message="auth.spec.ts:8:3 deve exibir página de login ao acessar sem autenticação" type="FAILURE">
<![CDATA[  [mobile-safari] › auth.spec.ts:8:3 › Autenticação › deve exibir página de login ao acessar sem autenticação 

    Error: expect(page).toHaveURL(expected) failed

    Expected pattern: /login|auth|keycloak/i
    Received string:  "http://localhost:6090/"
    Timeout: 5000ms

    Call log:
      - Expect "toHaveURL" with timeout 5000ms
        8 × unexpected value "http://localhost:6090/"


      10 |     
      11 |     // Deve redirecionar para Keycloak ou mostrar botão de login
    > 12 |     await expect(page).toHaveURL(/login|auth|keycloak/i);
         |                        ^
      13 |   });
      14 |
      15 |   test('deve fazer login com credenciais válidas', async ({ page, context }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:12:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-exi-f3ca0-ao-acessar-sem-autenticação-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer login com credenciais válidas" classname="auth.spec.ts" time="17.03">
<failure message="auth.spec.ts:15:3 deve fazer login com credenciais válidas" type="FAILURE">
<![CDATA[  [mobile-safari] › auth.spec.ts:15:3 › Autenticação › deve fazer login com credenciais válidas ────

    TimeoutError: page.waitForURL: Timeout 10000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      17 |     
      18 |     // Assumindo redirecionamento para Keycloak
    > 19 |     await page.waitForURL(/keycloak/i, { timeout: 10000 });
         |                ^
      20 |     
      21 |     // Preencher credenciais
      22 |     await page.fill('input[name="username"]', 'test@techdengue.mt.gov.br');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:19:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-login-com-credenciais-válidas-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve rejeitar login com credenciais inválidas" classname="auth.spec.ts" time="31.373">
<failure message="auth.spec.ts:36:3 deve rejeitar login com credenciais inválidas" type="FAILURE">
<![CDATA[  [mobile-safari] › auth.spec.ts:36:3 › Autenticação › deve rejeitar login com credenciais inválidas 

    Test timeout of 30000ms exceeded.

    Error: page.waitForURL: Test timeout of 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
      navigated to "http://localhost:6090/"
    ============================================================

      36 |   test('deve rejeitar login com credenciais inválidas', async ({ page }) => {
      37 |     await page.goto('/');
    > 38 |     await page.waitForURL(/keycloak/i);
         |                ^
      39 |     
      40 |     await page.fill('input[name="username"]', 'invalid@test.com');
      41 |     await page.fill('input[name="password"]', 'wrongpass');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:38:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-rej-13902-n-com-credenciais-inválidas-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve fazer logout corretamente" classname="auth.spec.ts" time="16.41">
<failure message="auth.spec.ts:48:3 deve fazer logout corretamente" type="FAILURE">
<![CDATA[  [mobile-safari] › auth.spec.ts:48:3 › Autenticação › deve fazer logout corretamente ──────────────

    TimeoutError: page.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="user-menu"]')


      51 |     
      52 |     // Click no menu do usuário
    > 53 |     await page.click('[data-testid="user-menu"]');
         |                ^
      54 |     
      55 |     // Click em logout
      56 |     await page.click('[data-testid="logout-button"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:53:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-fazer-logout-corretamente-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Autenticação › deve renovar token automaticamente" classname="auth.spec.ts" time="31.367">
<failure message="auth.spec.ts:62:3 deve renovar token automaticamente" type="FAILURE">
<![CDATA[  [mobile-safari] › auth.spec.ts:62:3 › Autenticação › deve renovar token automaticamente ──────────

    Test timeout of 30000ms exceeded.

    Error: page.waitForTimeout: Test timeout of 30000ms exceeded.

      65 |     // Aguardar 5 minutos para testar silent renew
      66 |     // (em prod o token expira em 5min, silent renew ocorre automaticamente)
    > 67 |     await page.waitForTimeout(5 * 60 * 1000);
         |                ^
      68 |     
      69 |     // Fazer requisição que exige token
      70 |     await page.click('[data-testid="dashboard-link"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\auth.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\video.webm]]

[[ATTACHMENT|auth-Autenticação-deve-renovar-token-automaticamente-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="collapse.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="2" failures="2" skipped="0" time="30.789" errors="0">
<testcase name="Collapse persistence › AppSidebar collapse persists across reload" classname="collapse.spec.ts" time="18.24">
<failure message="collapse.spec.ts:20:3 AppSidebar collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-safari] › collapse.spec.ts:20:3 › Collapse persistence › AppSidebar collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('#app-sidebar .collapse-btn')
        - locator resolved to <button class="collapse-btn" aria-expanded="true" title="Recolher menu" aria-label="Recolher menu principal">…</button>
      - attempting click action
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - element is outside of the viewport
        - retrying click action
        - waiting 20ms
        2 × waiting for element to be visible, enabled and stable
          - element is visible, enabled and stable
          - scrolling into view if needed
          - done scrolling
          - element is outside of the viewport
        - retrying click action
          - waiting 100ms
        12 × waiting for element to be visible, enabled and stable
           - element is visible, enabled and stable
           - scrolling into view if needed
           - done scrolling
           - element is outside of the viewport
         - retrying click action
           - waiting 500ms


      24 |     const btn = page.locator('#app-sidebar .collapse-btn')
      25 |     await expect(btn).toBeVisible()
    > 26 |     await btn.click()
         |               ^
      27 |
      28 |     await expect.poll(async () => page.evaluate(() => document.documentElement.classList.contains('sidebar-collapsed'))).toBeTruthy()
      29 |     await expect.poll(async () => page.evaluate(() => localStorage.getItem('sidebar-collapsed'))).toBe('1')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:26:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\video.webm]]

[[ATTACHMENT|collapse-Collapse-persiste-fb1ed-apse-persists-across-reload-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Collapse persistence › Submenu collapse persists across reload" classname="collapse.spec.ts" time="12.549">
<failure message="collapse.spec.ts:36:3 Submenu collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-safari] › collapse.spec.ts:36:3 › Collapse persistence › Submenu collapse persists across reload 

    Error: expect(locator).toBeVisible() failed

    Locator:  locator('#app-submenu .collapse-btn')
    Expected: visible
    Received: hidden
    Timeout:  5000ms

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('#app-submenu .collapse-btn')
        8 × locator resolved to <button title="Recolher" class="collapse-btn" aria-expanded="true" aria-label="Recolher submenu">…</button>
          - unexpected value "hidden"


      39 |
      40 |     const btn = page.locator('#app-submenu .collapse-btn')
    > 41 |     await expect(btn).toBeVisible()
         |                       ^
      42 |     await btn.click()
      43 |
      44 |     await expect.poll(async () => page.evaluate(() => document.documentElement.classList.contains('subnav-collapsed'))).toBeTruthy()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\collapse.spec.ts:41:23

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\video.webm]]

[[ATTACHMENT|collapse-Collapse-persiste-db55a-apse-persists-across-reload-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="darkmode.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="1" failures="0" skipped="0" time="6.696" errors="0">
<testcase name="Dark mode navigation UI › toggles theme-dark on root and back" classname="darkmode.spec.ts" time="6.696">
</testcase>
</testsuite>
<testsuite name="dashboard.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="8" failures="8" skipped="0" time="115.084" errors="0">
<testcase name="Dashboard EPI › deve carregar KPIs corretamente" classname="dashboard.spec.ts" time="15.149">
<failure message="dashboard.spec.ts:13:3 deve carregar KPIs corretamente" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:13:3 › Dashboard EPI › deve carregar KPIs corretamente ───────

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      13 |   test('deve carregar KPIs corretamente', async ({ page }) => {
      14 |     // Aguardar carregamento
    > 15 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
         |                ^
      16 |     
      17 |     // Verificar se pelo menos 4 KPIs foram carregados
      18 |     const kpiCards = page.locator('[data-testid="kpi-card"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:15:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-carregar-KPIs-corretamente-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve aplicar filtros e recarregar dados" classname="dashboard.spec.ts" time="15.296">
<failure message="dashboard.spec.ts:28:3 deve aplicar filtros e recarregar dados" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:28:3 › Dashboard EPI › deve aplicar filtros e recarregar dados 

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-ano"]')


      28 |   test('deve aplicar filtros e recarregar dados', async ({ page }) => {
      29 |     // Selecionar ano
    > 30 |     await page.selectOption('[data-testid="filter-ano"]', '2023');
         |                ^
      31 |     
      32 |     // Aguardar recarregamento (spinner ou loading state)
      33 |     await page.waitForLoadState('networkidle');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:30:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-bd3d1--filtros-e-recarregar-dados-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir gráfico de série temporal" classname="dashboard.spec.ts" time="14.049">
<failure message="dashboard.spec.ts:40:3 deve exibir gráfico de série temporal" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:40:3 › Dashboard EPI › deve exibir gráfico de série temporal ─

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('canvas') to be visible


      40 |   test('deve exibir gráfico de série temporal', async ({ page }) => {
      41 |     // Aguardar gráfico carregar
    > 42 |     await page.waitForSelector('canvas', { timeout: 10000 });
         |                ^
      43 |     
      44 |     // Verificar que canvas está visível
      45 |     const canvas = page.locator('canvas').first();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:42:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-66614-r-gráfico-de-série-temporal-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir ranking top 10 municípios" classname="dashboard.spec.ts" time="15.44">
<failure message="dashboard.spec.ts:55:3 deve exibir ranking top 10 municípios" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:55:3 › Dashboard EPI › deve exibir ranking top 10 municípios ─

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="top-n-chart"]') to be visible


      55 |   test('deve exibir ranking top 10 municípios', async ({ page }) => {
      56 |     // Aguardar tabela/gráfico de ranking
    > 57 |     await page.waitForSelector('[data-testid="top-n-chart"]', { timeout: 10000 });
         |                ^
      58 |     
      59 |     // Verificar se pelo menos 5 municípios aparecem
      60 |     const items = page.locator('[data-testid="ranking-item"]');
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:57:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-b5f61-r-ranking-top-10-municípios-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve alternar entre diferentes doenças" classname="dashboard.spec.ts" time="15.729">
<failure message="dashboard.spec.ts:65:3 deve alternar entre diferentes doenças" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:65:3 › Dashboard EPI › deve alternar entre diferentes doenças 

    TimeoutError: page.selectOption: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="filter-doenca"]')


      65 |   test('deve alternar entre diferentes doenças', async ({ page }) => {
      66 |     // Selecionar dengue
    > 67 |     await page.selectOption('[data-testid="filter-doenca"]', 'DENGUE');
         |                ^
      68 |     await page.waitForLoadState('networkidle');
      69 |     
      70 |     const kpiDengue = await page.locator('[data-testid="kpi-total-casos"]').textContent();
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:67:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-c1c99-ar-entre-diferentes-doenças-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve exibir variação percentual nos KPIs" classname="dashboard.spec.ts" time="4.72">
<failure message="dashboard.spec.ts:82:3 deve exibir variação percentual nos KPIs" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:82:3 › Dashboard EPI › deve exibir variação percentual nos KPIs 

    Error: expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      84 |     const trendingIcons = page.locator('[data-testid="kpi-trend"]');
      85 |     const count = await trendingIcons.count();
    > 86 |     expect(count).toBeGreaterThan(0);
         |                   ^
      87 |   });
      88 |
      89 |   test('deve ser responsivo em mobile', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:86:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-de-09547-ariação-percentual-nos-KPIs-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › deve ser responsivo em mobile" classname="dashboard.spec.ts" time="16.406">
<failure message="dashboard.spec.ts:89:3 deve ser responsivo em mobile" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:89:3 › Dashboard EPI › deve ser responsivo em mobile ─────────

    TimeoutError: locator.boundingBox: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]').first()


       96 |     const secondCard = kpiCards.nth(1);
       97 |     
    >  98 |     const firstBox = await firstCard.boundingBox();
          |                                      ^
       99 |     const secondBox = await secondCard.boundingBox();
      100 |     
      101 |     // Segunda carta deve estar abaixo da primeira (não ao lado)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:98:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-deve-ser-responsivo-em-mobile-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Dashboard EPI › performance: deve carregar em menos de 4 segundos" classname="dashboard.spec.ts" time="18.295">
<failure message="dashboard.spec.ts:105:3 performance: deve carregar em menos de 4 segundos" type="FAILURE">
<![CDATA[  [mobile-safari] › dashboard.spec.ts:105:3 › Dashboard EPI › performance: deve carregar em menos de 4 segundos 

    TimeoutError: page.waitForSelector: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('[data-testid="kpi-card"]') to be visible


      107 |     
      108 |     await page.goto('/dashboard');
    > 109 |     await page.waitForSelector('[data-testid="kpi-card"]', { timeout: 10000 });
          |                ^
      110 |     
      111 |     const loadTime = Date.now() - startTime;
      112 |     
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\dashboard.spec.ts:109:16

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\video.webm]]

[[ATTACHMENT|dashboard-Dashboard-EPI-pe-f127b-egar-em-menos-de-4-segundos-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="mobile.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="3" failures="0" skipped="0" time="30.529" errors="0">
<testcase name="Mobile navigation › primary sidebar drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="8.067">
</testcase>
<testcase name="Mobile navigation › secondary submenu drawer opens, traps focus, and closes (overlay/Escape)" classname="mobile.spec.ts" time="11.947">
</testcase>
<testcase name="Mobile navigation › dark mode toggle works on mobile" classname="mobile.spec.ts" time="10.515">
</testcase>
</testsuite>
<testsuite name="navigation.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="6" failures="4" skipped="0" time="76.95" errors="0">
<testcase name="Navigation &amp; Menus › home renders layout and sidebar" classname="navigation.spec.ts" time="8.847">
</testcase>
<testcase name="Navigation &amp; Menus › module page shows functions and subtitles" classname="navigation.spec.ts" time="11.073">
<failure message="navigation.spec.ts:23:3 module page shows functions and subtitles" type="FAILURE">
<![CDATA[  [mobile-safari] › navigation.spec.ts:23:3 › Navigation & Menus › module page shows functions and subtitles 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('.module-functions-panel')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('.module-functions-panel')


      32 |
      33 |     // Functions panel visible
    > 34 |     await expect(page.locator(functionsPanel)).toBeVisible()
         |                                                ^
      35 |     await expect(page.getByRole('heading', { name: 'Ferramentas' })).toBeVisible()
      36 |
      37 |     // Card shows name and subtitle (scoped to functions panel)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:34:48

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-3a024-ows-functions-and-subtitles-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › functions collapse persists across reload" classname="navigation.spec.ts" time="18.174">
<failure message="navigation.spec.ts:43:3 functions collapse persists across reload" type="FAILURE">
<![CDATA[  [mobile-safari] › navigation.spec.ts:43:3 › Navigation & Menus › functions collapse persists across reload 

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header .collapse-btn')


      49 |     })
      50 |     const btn = page.locator(`${functionsPanel} .functions-header .collapse-btn`)
    > 51 |     await btn.click()
         |               ^
      52 |
      53 |     // html should have class functions-collapsed
      54 |     await expect(page.locator('html')).toHaveClass(/functions-collapsed/)
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:51:15

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-acd34-apse-persists-across-reload-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › search filters tools by name/subtitle" classname="navigation.spec.ts" time="15.625">
<failure message="navigation.spec.ts:69:3 search filters tools by name/subtitle" type="FAILURE">
<![CDATA[  [mobile-safari] › navigation.spec.ts:69:3 › Navigation & Menus › search filters tools by name/subtitle 

    TimeoutError: locator.fill: Timeout 10000ms exceeded.
    Call log:
      - waiting for locator('.module-functions-panel .functions-header input[type="search"]')


      74 |     })
      75 |     const search = page.locator(`${functionsPanel} .functions-header input[type="search"]`)
    > 76 |     await search.fill('climático')
         |                  ^
      77 |     const riscoCard = page.locator(`${functionsPanel} a.function-card`, { hasText: 'Risco Climático' })
      78 |     await expect(riscoCard).toBeVisible()
      79 |     // an unrelated card should disappear from DOM after filtering
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:76:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menu-7d8d9-ters-tools-by-name-subtitle-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › favorites pin/unpin persists" classname="navigation.spec.ts" time="15.626">
<failure message="navigation.spec.ts:84:3 favorites pin/unpin persists" type="FAILURE">
<![CDATA[  [mobile-safari] › navigation.spec.ts:84:3 › Navigation & Menus › favorites pin/unpin persists ────

    TimeoutError: locator.click: Timeout 10000ms exceeded.
    Call log:
      - waiting for getByRole('link', { name: /Nowcasting \/ Rt/ }).locator('button.function-fav')


      93 |
      94 |     // pin
    > 95 |     await favBtn.click()
         |                  ^
      96 |     await expect(page.getByText('Favoritos')).toBeVisible()
      97 |
      98 |     // reload keeps favorite
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\navigation.spec.ts:95:18

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\video.webm]]

[[ATTACHMENT|navigation-Navigation-Menus-favorites-pin-unpin-persists-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navigation &amp; Menus › app sidebar active link uses aria-current" classname="navigation.spec.ts" time="7.605">
</testcase>
</testsuite>
<testsuite name="permissions.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="20" failures="4" skipped="0" time="242.629" errors="0">
<testcase name="Permissões Granulares › ADMIN deve ter acesso completo" classname="permissions.spec.ts" time="7.606">
<failure message="permissions.spec.ts:16:3 ADMIN deve ter acesso completo" type="FAILURE">
<![CDATA[  [mobile-safari] › permissions.spec.ts:16:3 › Permissões Granulares › ADMIN deve ter acesso completo 

    Error: expect(locator).toBeVisible() failed

    Locator: locator('a[href="/dashboard"]')
    Expected: visible
    Error: strict mode violation: locator('a[href="/dashboard"]') resolved to 2 elements:
        1) <a class="active" href="/dashboard" aria-current="page" title="Panorama Executivo">…</a> aka getByRole('link', { name: 'Panorama Executivo' })
        2) <a class="active" href="/dashboard" aria-current="page" title="Dashboard Consolidado">…</a> aka getByText('Dashboard ConsolidadoKPIs e visão geralIndicadores')

    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('a[href="/dashboard"]')


      26 |     
      27 |     // Deve ter link para Dashboard Executivo
    > 28 |     await expect(page.locator('a[href="/dashboard"]')).toBeVisible()
         |                                                        ^
      29 |     
      30 |     // Deve ter link para Admin
      31 |     await expect(page.locator('a[href*="/admin"]')).toBeVisible()
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:28:56

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-e9906-IN-deve-ter-acesso-completo-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › GESTOR tem permissões de visualização e relatórios" classname="permissions.spec.ts" time="16.332">
<failure message="permissions.spec.ts:34:3 GESTOR tem permissões de visualização e relatórios" type="FAILURE">
<![CDATA[  [mobile-safari] › permissions.spec.ts:34:3 › Permissões Granulares › GESTOR tem permissões de visualização e relatórios 

    Error: expect(locator).toContainText(expected) failed

    Locator: locator('h1')
    Expected pattern: /Dashboard|Painel/
    Received string:  "TechDengue"
    Timeout: 5000ms

    Call log:
      - Expect "toContainText" with timeout 5000ms
      - waiting for locator('h1')
        8 × locator resolved to <h1 class="text-lg font-bold text-gray-900">TechDengue</h1>
          - unexpected value "TechDengue"


      38 |     
      39 |     // Gestor deve ver dashboard
    > 40 |     await expect(page.locator('h1')).toContainText(/Dashboard|Painel/)
         |                                      ^
      41 |     
      42 |     // Deve ter acesso ao mapa
      43 |     await page.goto('/mapa')
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:40:38

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\video.webm]]

[[ATTACHMENT|permissions-Permissões-Gra-618f2-e-visualização-e-relatórios-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Permissões Granulares › VIGILANCIA tem CRUD de vigilância" classname="permissions.spec.ts" time="8.127">
</testcase>
<testcase name="Permissões Granulares › CAMPO tem acesso limitado" classname="permissions.spec.ts" time="14.793">
</testcase>
<testcase name="Permissões Granulares › Múltiplas roles acumulam permissões" classname="permissions.spec.ts" time="12.228">
</testcase>
<testcase name="Permissões Granulares › Sem roles = sem acesso" classname="permissions.spec.ts" time="8.145">
</testcase>
<testcase name="Permissões Granulares › RoleBadge mostra roles corretas" classname="permissions.spec.ts" time="12.377">
</testcase>
<testcase name="Permissões Granulares › RestrictedFeature oculta conteúdo sem permissão" classname="permissions.spec.ts" time="13.188">
</testcase>
<testcase name="Permissões Granulares › AccessDeniedBanner aparece ao acessar rota sem permissão" classname="permissions.spec.ts" time="10.801">
</testcase>
<testcase name="Componentes de Permissão › PermissionGate oculta conteúdo sem permissão" classname="permissions.spec.ts" time="9.751">
</testcase>
<testcase name="Componentes de Permissão › Can component mostra/oculta baseado em permissão" classname="permissions.spec.ts" time="10.681">
</testcase>
<testcase name="Validação de Roles › Role inválida = tratada como sem permissão" classname="permissions.spec.ts" time="10.47">
</testcase>
<testcase name="Validação de Roles › LocalStorage e2e-roles tem precedência" classname="permissions.spec.ts" time="13.2">
</testcase>
<testcase name="Validação de Roles › Query param sobrescreve localStorage" classname="permissions.spec.ts" time="11.915">
</testcase>
<testcase name="Navegação por Permissão › Sidebar filtra itens por permissão" classname="permissions.spec.ts" time="14.619">
<failure message="permissions.spec.ts:203:3 Sidebar filtra itens por permissão" type="FAILURE">
<![CDATA[  [mobile-safari] › permissions.spec.ts:203:3 › Navegação por Permissão › Sidebar filtra itens por permissão 

    Error: expect(locator).not.toBeVisible() failed

    Locator:  locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
    Expected: not visible
    Received: visible
    Timeout:  5000ms

    Call log:
      - Expect "not toBeVisible" with timeout 5000ms
      - waiting for locator('[data-app-nav="primary"]').locator('a[href*="/admin"]')
        8 × locator resolved to <a class="" title="Administração" href="/modulos/administracao">…</a>
          - unexpected value "visible"


      209 |     // CAMPO não deve ver link de Admin
      210 |     const adminLink = sidebar.locator('a[href*="/admin"]')
    > 211 |     await expect(adminLink).not.toBeVisible()
          |                                 ^
      212 |   })
      213 |
      214 |   test('ADMIN vê todos os itens do sidebar', async ({ page }) => {
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:211:33

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--3e5da--filtra-itens-por-permissão-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Navegação por Permissão › ADMIN vê todos os itens do sidebar" classname="permissions.spec.ts" time="14.202">
</testcase>
<testcase name="Navegação por Permissão › CAMPO vê apenas links básicos" classname="permissions.spec.ts" time="15.37">
<failure message="permissions.spec.ts:229:3 CAMPO vê apenas links básicos" type="FAILURE">
<![CDATA[  [mobile-safari] › permissions.spec.ts:229:3 › Navegação por Permissão › CAMPO vê apenas links básicos 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 5
    Received:   13

      239 |     
      240 |     // CAMPO tem acesso limitado
    > 241 |     expect(count).toBeLessThan(5)
          |                   ^
      242 |   })
      243 | })
      244 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\permissions.spec.ts:241:19

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\video.webm]]

[[ATTACHMENT|permissions-Navegação-por--736c1-MPO-vê-apenas-links-básicos-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="Performance e Estabilidade › Verificação de permissões não causa lag" classname="permissions.spec.ts" time="8.494">
</testcase>
<testcase name="Performance e Estabilidade › Mudança de role atualiza permissões" classname="permissions.spec.ts" time="10.393">
</testcase>
<testcase name="Performance e Estabilidade › Permissões persistem entre navegações" classname="permissions.spec.ts" time="19.937">
</testcase>
</testsuite>
<testsuite name="roles-ui.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="27" failures="1" skipped="0" time="306.086" errors="0">
<testcase name="RoleBadge Component › Mostra badge de ADMIN com cor roxa" classname="roles-ui.spec.ts" time="9.13">
</testcase>
<testcase name="RoleBadge Component › Mostra badge de GESTOR com cor azul" classname="roles-ui.spec.ts" time="14.173">
</testcase>
<testcase name="RoleBadge Component › Modo compact mostra apenas role principal" classname="roles-ui.spec.ts" time="14.973">
</testcase>
<testcase name="RoleBadge Component › Badge tem ícone apropriado" classname="roles-ui.spec.ts" time="15.099">
</testcase>
<testcase name="RestrictedFeature Component › Oculta conteúdo quando falta role" classname="roles-ui.spec.ts" time="14.146">
</testcase>
<testcase name="RestrictedFeature Component › Mostra lock overlay para conteúdo bloqueado" classname="roles-ui.spec.ts" time="14.434">
</testcase>
<testcase name="RestrictedFeature Component › Tooltip mostra roles necessárias ao hover" classname="roles-ui.spec.ts" time="5.635">
</testcase>
<testcase name="RestrictedFeature Component › Mostra fallback customizado quando fornecido" classname="roles-ui.spec.ts" time="12.733">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner aparece ao acessar rota sem permissão" classname="roles-ui.spec.ts" time="6.905">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner mostra roles necessárias" classname="roles-ui.spec.ts" time="6.926">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner variante error tem cor vermelha" classname="roles-ui.spec.ts" time="11.349">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Voltar funciona" classname="roles-ui.spec.ts" time="15.745">
</testcase>
<testcase name="AccessDeniedBanner Component › Botão Ir para Home funciona" classname="roles-ui.spec.ts" time="9.793">
</testcase>
<testcase name="AccessDeniedBanner Component › Banner pode ser fechado se tem onDismiss" classname="roles-ui.spec.ts" time="10.305">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo renderiza para role autorizada" classname="roles-ui.spec.ts" time="9.575">
</testcase>
<testcase name="PermissionGate Integration › Conteúdo não renderiza para role não autorizada" classname="roles-ui.spec.ts" time="14.14">
</testcase>
<testcase name="PermissionGate Integration › Múltiplos PermissionGates funcionam simultaneamente" classname="roles-ui.spec.ts" time="9.566">
</testcase>
<testcase name="Visual Feedback › Elemento bloqueado tem opacity reduzida" classname="roles-ui.spec.ts" time="14.269">
</testcase>
<testcase name="Visual Feedback › Hover em elemento bloqueado mostra cursor not-allowed" classname="roles-ui.spec.ts" time="14.017">
</testcase>
<testcase name="Visual Feedback › Animação slideDown funciona em banner" classname="roles-ui.spec.ts" time="11.075">
</testcase>
<testcase name="Accessibility › RoleBadge tem tooltip acessível" classname="roles-ui.spec.ts" time="11.32">
</testcase>
<testcase name="Accessibility › AccessDeniedBanner tem role=&quot;alert&quot;" classname="roles-ui.spec.ts" time="10.292">
</testcase>
<testcase name="Accessibility › Botões têm labels descritivos" classname="roles-ui.spec.ts" time="10.24">
</testcase>
<testcase name="Dark Mode › RoleBadge adapta cores em dark mode" classname="roles-ui.spec.ts" time="10.191">
</testcase>
<testcase name="Dark Mode › AccessDeniedBanner adapta cores em dark mode" classname="roles-ui.spec.ts" time="9.169">
</testcase>
<testcase name="Performance › Renderização de múltiplos RestrictedFeatures é rápida" classname="roles-ui.spec.ts" time="9.679">
</testcase>
<testcase name="Performance › Troca de role re-renderiza componentes rapidamente" classname="roles-ui.spec.ts" time="11.207">
<failure message="roles-ui.spec.ts:355:3 Troca de role re-renderiza componentes rapidamente" type="FAILURE">
<![CDATA[  [mobile-safari] › roles-ui.spec.ts:355:3 › Performance › Troca de role re-renderiza componentes rapidamente 

    Error: expect(received).toBeLessThan(expected)

    Expected: < 1500
    Received:   2180

      364 |     
      365 |     // Troca deve ser rápida
    > 366 |     expect(switchTime).toBeLessThan(1500)
          |                        ^
      367 |   })
      368 | })
      369 |
        at C:\Users\claud\CascadeProjects\Techdengue_MT\frontend\e2e\roles-ui.spec.ts:366:24

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ..\test-results\roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\error-context.md
]]>
</failure>
<system-out>
<![CDATA[
[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\test-failed-1.png]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\video.webm]]

[[ATTACHMENT|roles-ui-Performance-Troca-43085-iza-componentes-rapidamente-mobile-safari\error-context.md]]
]]>
</system-out>
</testcase>
</testsuite>
<testsuite name="roles.spec.ts" timestamp="2025-11-06T18:02:48.832Z" hostname="mobile-safari" tests="4" failures="0" skipped="0" time="37.077" errors="0">
<testcase name="Role-based navigation visibility › ADMIN role shows admin-only modules and hides vigilancia/campo" classname="roles.spec.ts" time="9.913">
</testcase>
<testcase name="Role-based navigation visibility › GESTOR role shows gestão/vigilância/campo and hides admin-only" classname="roles.spec.ts" time="9.737">
</testcase>
<testcase name="Role-based navigation visibility › VIGILANCIA role shows vigilancia and hides admin/etl/observability/campo" classname="roles.spec.ts" time="9.575">
</testcase>
<testcase name="Role-based navigation visibility › CAMPO role shows only operacional and hides admin/dados/vigilância" classname="roles.spec.ts" time="7.852">
</testcase>
</testsuite>
</testsuites>